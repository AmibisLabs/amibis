<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OMiSCID(aka O3MiSCID): Omiscid::Service Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespace_omiscid.html">Omiscid</a>::<a class="el" href="class_omiscid_1_1_service.html">Service</a></div>
<h1>Omiscid::Service Class Reference<br>
<small>
[<a class="el" href="group___user_friendly.html">User friendly high-level API for Omiscid</a>,&nbsp;<a class="el" href="group___service_control.html">Layer 2 : Omiscid multiplateform Service Control layer.</a>]</small>
</h1><!-- doxytag: class="Omiscid::Service" --><!-- doxytag: inherits="Omiscid::ControlServer" -->High level user friendly class to manage an <a class="el" href="namespace_omiscid.html">Omiscid</a> service.
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_service_8h-source.html">ServiceControl/Service.h</a>&gt;</code>
<p>
<p>Inheritance diagram for Omiscid::Service:
<p><center><img src="class_omiscid_1_1_service.png" usemap="#Omiscid::Service_map" border="0" alt=""></center>
<map name="Omiscid::Service_map">
<area href="class_omiscid_1_1_control_server.html" alt="Omiscid::ControlServer" shape="rect" coords="552,168,763,192">
<area href="class_omiscid_1_1_tcp_server.html" alt="Omiscid::TcpServer" shape="rect" coords="110,112,321,136">
<area href="class_omiscid_1_1_x_m_l_tree_parser.html" alt="Omiscid::XMLTreeParser" shape="rect" coords="552,112,763,136">
<area href="class_omiscid_1_1_variable_attribute_listener.html" alt="Omiscid::VariableAttributeListener" shape="rect" coords="773,112,984,136">
<area href="class_omiscid_1_1_msg_socket.html" alt="Omiscid::MsgSocket" shape="rect" coords="0,56,211,80">
<area href="class_omiscid_1_1_com_tools.html" alt="Omiscid::ComTools" shape="rect" coords="221,56,432,80">
<area href="class_omiscid_1_1_thread.html" alt="Omiscid::Thread" shape="rect" coords="442,56,653,80">
<area href="class_omiscid_1_1_msg_socket_callback_object.html" alt="Omiscid::MsgSocketCallbackObject" shape="rect" coords="663,56,874,80">
<area href="class_omiscid_1_1_thread.html" alt="Omiscid::Thread" shape="rect" coords="0,0,211,24">
</map>
<a href="class_omiscid_1_1_service-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#f6c3577b59652ac817d1d76aaccee904">~Service</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#b90e8000ec50c6c618226d27a562b151">Start</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#0aea3ef54d50ed72d7c94e65ddd8fdb3">AddConnector</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorDescription, <a class="el" href="namespace_omiscid.html#218bb4bdf6827922c9f46d5953ca612a">ConnectorKind</a> KindOfConnector, unsigned int TcpPort=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#6c1290dd464f891810a694dbf505246a">GetConnectorClientCount</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#e3d72689dcd84b1082d503831407cb6c">SendToAllClients</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, char *Buffer, int BufferLen, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#c43a7d7ec8ac88d7929f19717d7a55d0">SendToAllClients</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, char *Buffer, int BufferLen, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;ServProxy, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#20eca09c1e8763ac6383f8d53605edd0">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;ServProxy, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#ba15ba2ac0c96831ddbf54c12c99ca63">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, char *Buffer, int BufferLen, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *ServProxy, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#cb7c1193ce1a7a5898a2c15897146434">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *ServProxy, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#361f52a09e52e4afe8361b19b4788403">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, char *Buffer, int BufferLen, int PeerId, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#b0af3174d0f1801cbc3da4a142706dac">SendToOneClient</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, int PeerId, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#7a79853abac630c4094b8d1c8c4bd381">SendReplyToMessage</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, char *Buffer, int BufferLen, const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;Msg, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#af86bf50511f859286fa176ca0e5f181">SendReplyToMessage</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;Msg, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#5b32acb77f053f85ceda51fc2ca87cda">SendReplyToMessage</a> (char *Buffer, int BufferLen, const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;Msg, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#067e789474c7de46a3a60fc76c495fc7">SendReplyToMessage</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> MessageAsString, const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;Msg, bool UnreliableButFastSend=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#aadf308131c325f0ce5b57e7fe6312f7">AddVariable</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Type, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarDescription, <a class="el" href="namespace_omiscid.html#2d53987eca9b99d8ecc85ebeb6d68e6c">VariableAccessType</a> AccessType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#39ef4b70fe9c38109fc0b9d19b607aa0">SetVariableDescription</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarDescription)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#adc31aa2b25d4469ff4fdeed7a8f54cd">GetVariableDescription</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#c8e734556251e2b0d624b26b4ba9d633">SetVariableValue</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarValue, bool SkipValidationPhase=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#f83e01c7de70a74865a7550d382c1395">GetVariableValue</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#fea070fc3a80fb78f553fbf17d86eea3">GetVariableAccessTypeType</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#8b8c749ab29327a7259b791ce0efdaf1">GetVariableType</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#8a23c9630d2db2128e36ada08fee6429">GetName</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the name of this service.  <a href="#8a23c9630d2db2128e36ada08fee6429"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#305b093945e8da236835a3dbaaf8a1b2">GetPeerIdAsString</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the name of this service.  <a href="#305b093945e8da236835a3dbaaf8a1b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#23fc852bd52ef29c0addc2cac229ce08">GetPeerId</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the name of this service.  <a href="#23fc852bd52ef29c0addc2cac229ce08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#19cba1b783b72abd42ba14cb96186b11">ConnectTo</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> LocalConnector, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;ServProxy, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> RemoteConnector)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#25c465ff7106a8a57711a6667e8deb58">ConnectTo</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> LocalConnector, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *ServProxy, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> RemoteConnector)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#2fe8c905f7562f8a9fc0b510ab4c19d4">ConnectTo</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> LocalConnector, <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> HostName, unsigned int TcpPort)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#95b09da7aeb2077d3241843ed860bb31">AddConnectorListener</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_connector_listener.html">ConnectorListener</a> *MsgListener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#01bc69a978f41add1fef25f142f66f1e">RemoveConnectorListener</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_connector_listener.html">ConnectorListener</a> *MsgListener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#adc707e38b3005952564448888abc071">RemoveAllConnectorListeners</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#44cfa8fd383a916bcafe0b79e49ca989">RemoveAllConnectorListeners</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#2905add8b630ee88d45f59e00576fded">CloseConnection</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, unsigned int PeerId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#f8632f736fcd6dc1c6b4fd544b255323">CloseConnection</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *SrvProxy)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#8475b9d54e5aecaa111cebf90fe0b06f">CloseAllConnections</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#71f96e3a0ef96c5e514229cd0393a185">CloseAllConnections</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#ddbb2538e3fcca132b1870ed20376bb0">AddLocalVariableListener</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_local_variable_listener.html">LocalVariableListener</a> *Listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#7de1c22720e40df757dcb4de1c7ef410">RemoveLocalVariableListener</a> (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_local_variable_listener.html">LocalVariableListener</a> *Listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#d868eaccaebc0f38d4d051561fc53ad0">FindService</a> (<a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> *Filter, unsigned int WaitTime=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#ef2501d61d8461246ee96f278951fde1">FindService</a> (<a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> &amp;Filter, unsigned int WaitTime=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_service_proxy_list.html">ServiceProxyList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#0bfaf329db45328b4272141d44208736">FindServices</a> (<a class="el" href="class_omiscid_1_1_service_filter_list.html">ServiceFilterList</a> &amp;Filters, unsigned int WaitTime=0)</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="328c093d609680cca505905c6d49901a"></a><!-- doxytag: member="Omiscid::Service::Factory" ref="328c093d609680cca505905c6d49901a" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service.html#328c093d609680cca505905c6d49901a">Factory</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
High level user friendly class to manage an <a class="el" href="namespace_omiscid.html">Omiscid</a> service.
<p>
This class is used to manadge a service and register it. It can not be created directly by the end user. One should invoque the <a class="el" href="class_omiscid_1_1_factory.html#65e7a188e3a937fefa65fe222de99ec2">Factory::Create(const SimpleString ServiceName, const SimpleString ClassName)</a> or Factory::CreateFromXml(const SimpleString XmlDesc) to create a new service. An unregistered service can be used in order to communicate with other service.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Dominique Vaufreydaz </dd></dl>

<p>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00038">38</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f6c3577b59652ac817d1d76aaccee904"></a><!-- doxytag: member="Omiscid::Service::~Service" ref="f6c3577b59652ac817d1d76aaccee904" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Service::~Service           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Standard destructor. Will unregistered the service (if a call to <a class="el" href="class_omiscid_1_1_service.html#b90e8000ec50c6c618226d27a562b151">Service::Start</a> was made). This method is public; everyone can destroy a service.
<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00091">91</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8h-source.html#l00352">Omiscid::ControlServer::listInOutput</a>.<div class="fragment"><pre class="fragment"><a name="l00092"></a>00092 {
<a name="l00093"></a>00093     <span class="comment">// Destroy our created ComTools</span>
<a name="l00094"></a>00094     <a class="code" href="class_omiscid_1_1_com_tools.html">ComTools</a> * pComTools;
<a name="l00095"></a>00095
<a name="l00096"></a>00096     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.First(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.Next() )
<a name="l00097"></a>00097     {
<a name="l00098"></a>00098         pComTools = <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.GetCurrent()-&gt;GetComTool();
<a name="l00099"></a>00099         <span class="keywordflow">if</span> ( pComTools )
<a name="l00100"></a>00100         {
<a name="l00101"></a>00101             <span class="comment">// Destroy it</span>
<a name="l00102"></a>00102             <span class="keyword">delete</span> pComTools;
<a name="l00103"></a>00103             <span class="comment">// Set the com tools to null</span>
<a name="l00104"></a>00104             <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.GetCurrent()-&gt;SetComTool(NULL);
<a name="l00105"></a>00105         }
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b90e8000ec50c6c618226d27a562b151"></a><!-- doxytag: member="Omiscid::Service::Start" ref="b90e8000ec50c6c618226d27a562b151" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Service::Start           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts the corresponding service, i.e, registers it in DNS-SD. The service is now discoverable.
<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00109">109</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00173">Omiscid::ControlServer::StartServer()</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00025">Omiscid::Accumulator::Accumulator()</a>, <a class="el" href="_register_thread_8cpp-source.html#l00031">Omiscid::RegisterThread::Run()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00029">Omiscid::SendHugeData::SendHugeData()</a>.<div class="fragment"><pre class="fragment"><a name="l00110"></a>00110 {
<a name="l00111"></a>00111     <a class="code" href="class_omiscid_1_1_control_server.html#6c8c8a0c3b437ab3cb1c45b379b70252">StartServer</a>();
<a name="l00112"></a>00112 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0aea3ef54d50ed72d7c94e65ddd8fdb3"></a><!-- doxytag: member="Omiscid::Service::AddConnector" ref="0aea3ef54d50ed72d7c94e65ddd8fdb3" args="(SimpleString ConnectorName, SimpleString ConnectorDescription, ConnectorKind KindOfConnector, unsigned int TcpPort=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::AddConnector           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorDescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_omiscid.html#218bb4bdf6827922c9f46d5953ca612a">ConnectorKind</a>&nbsp;</td>
          <td class="paramname"> <em>KindOfConnector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>TcpPort</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a new connector to the service. This connector can be an Input an Ouput or an In/Output <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConnectorDescription</em>&nbsp;</td><td>the description of the connector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>KindOfConnector</em>&nbsp;</td><td>the connector type. This can be AnInput, AnOutput or AnInOutput </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TcpPort</em>&nbsp;</td><td>optionnal : the TcpPort to use fotr this conenctor. Please note that specifying this port may lead to problem if this port is already in use. Usage reserved to very specific conditions, when using Services over several local area network for example. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00124">124</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00818">Omiscid::ControlServer::AddInOutput()</a>, <a class="el" href="_connector_8cpp-source.html#l00040">Omiscid::Connector::Create()</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_control_server_8cpp-source.html#l01032">Omiscid::ControlServer::GetStatus()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_attribute_8cpp-source.html#l00058">Omiscid::Attribute::SetDescription()</a>, and <a class="el" href="_connector_8cpp-source.html#l00053">Omiscid::Connector::SetName()</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00025">Omiscid::Accumulator::Accumulator()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00029">Omiscid::SendHugeData::SendHugeData()</a>.<div class="fragment"><pre class="fragment"><a name="l00125"></a>00125 {
<a name="l00126"></a>00126     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_server.html#f1f60fd46fdc3323ade73e77a58fd877">GetStatus</a>() == STATUS_RUNNING )
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not add connector while running.\n"</span> );
<a name="l00129"></a>00129         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131
<a name="l00132"></a>00132     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00133"></a>00133     <span class="keywordflow">if</span> ( pAtt != NULL )
<a name="l00134"></a>00134     {
<a name="l00135"></a>00135         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"A connector named '%s' is already defined.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00136"></a>00136         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138
<a name="l00139"></a>00139     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = <span class="keyword">new</span> OMISCID_TLM <a class="code" href="class_omiscid_1_1_connector.html">Connector</a>();
<a name="l00140"></a>00140     <span class="keywordflow">if</span> ( pConnector == NULL )
<a name="l00141"></a>00141     {
<a name="l00142"></a>00142         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not allocate a new connector\n"</span> );
<a name="l00143"></a>00143         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145
<a name="l00146"></a>00146     <span class="comment">// Create TCP and UDP ports</span>
<a name="l00147"></a>00147     pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#5723d5976e777a330a152ec8f13bbbe4">SetName</a>(ConnectorName);
<a name="l00148"></a>00148     pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#d728d96ff5786432d5467ac728d70015">Create</a>((<span class="keywordtype">int</span>)TcpPort);
<a name="l00149"></a>00149     pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#9adcd450a808d1ab4f5f9abea89bcdde">AddInOutput</a>( ConnectorName, pConnector, <a class="code" href="namespace_omiscid.html#218bb4bdf6827922c9f46d5953ca612a">ConnectorKind</a> );
<a name="l00150"></a>00150     pAtt-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#c71330715b3dbfc3c51bab3d84484f94">SetDescription</a>( ConnectorDescription );
<a name="l00151"></a>00151
<a name="l00152"></a>00152     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00153"></a>00153 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6c1290dd464f891810a694dbf505246a"></a><!-- doxytag: member="Omiscid::Service::GetConnectorClientCount" ref="6c1290dd464f891810a694dbf505246a" args="(SimpleString ConnectorName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Service::GetConnectorClientCount           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the number of clients currently connected to the given connector. This number is indicative has there can be connections and disconnections at any time.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>localConnectorName</em>&nbsp;</td><td>the name of the local connector </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00162">162</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00151">Omiscid::InOutputAttribute::GetListPeerId()</a>, and <a class="el" href="_simple_list_8h-source.html#l00291">Omiscid::SimpleList&lt; TYPE &gt;::GetNumberOfElements()</a>.<div class="fragment"><pre class="fragment"><a name="l00163"></a>00163 {
<a name="l00164"></a>00164     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00165"></a>00165     <span class="keywordflow">if</span> ( pAtt == (<a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> *)NULL )
<a name="l00166"></a>00166     {
<a name="l00167"></a>00167         <a class="code" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Msg = <span class="stringliteral">"Unknown connector '"</span>;
<a name="l00168"></a>00168         Msg += ConnectorName;
<a name="l00169"></a>00169         Msg += <span class="stringliteral">"'\n"</span>;
<a name="l00170"></a>00170         <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html">SimpleException</a>(  Msg );
<a name="l00171"></a>00171         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173
<a name="l00174"></a>00174     <span class="keywordflow">return</span> pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#1b7ee5f122fdea5512396f3ffb8b0775">GetListPeerId</a>().<a class="code" href="class_omiscid_1_1_simple_list.html#c6e954e31d9aa0747c1ecf17d30ab366">GetNumberOfElements</a>();
<a name="l00175"></a>00175 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e3d72689dcd84b1082d503831407cb6c"></a><!-- doxytag: member="Omiscid::Service::SendToAllClients" ref="e3d72689dcd84b1082d503831407cb6c" args="(SimpleString ConnectorName, char *Buffer, int BufferLen, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendToAllClients           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message to all the clients connected to a specific connector of the service <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector sending the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>Should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, faster but with possibly message lost ? </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00182">182</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00238">Omiscid::InOutputAttribute::IsAnInput()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_connector_8cpp-source.html#l00214">Omiscid::Connector::SendToAll()</a>.
<p>
Referenced by <a class="el" href="_send_huge_data_8cpp-source.html#l00113">Omiscid::SendHugeData::MessageReceived()</a>, <a class="el" href="_service_8h-source.html#l00106">SendToAllClients()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00088">Omiscid::SendHugeData::StartExchange()</a>.<div class="fragment"><pre class="fragment"><a name="l00183"></a>00183 {
<a name="l00184"></a>00184     <span class="keywordflow">if</span> ( Buffer == NULL &amp;&amp; BufferLen != 0 )
<a name="l00185"></a>00185     {
<a name="l00186"></a>00186         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not send (null) buffer\n"</span> );
<a name="l00187"></a>00187         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00190"></a>00190     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00191"></a>00191     {
<a name="l00192"></a>00192         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00193"></a>00193         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00194"></a>00194     }
<a name="l00195"></a>00195     <span class="keywordflow">if</span> ( pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#24957af28339e8ee6f28e3e800df32ca">IsAnInput</a>() )
<a name="l00196"></a>00196     {
<a name="l00197"></a>00197         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not send data on an input connector.\n"</span> );
<a name="l00198"></a>00198         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200
<a name="l00201"></a>00201     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00202"></a>00202
<a name="l00203"></a>00203     <span class="comment">// if ReliableSend == true, we should send over udp so the last parameter (udp send)</span>
<a name="l00204"></a>00204     <span class="comment">// must be true</span>
<a name="l00205"></a>00205     pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#fec46fd4941842058199a8b15ad6b948">SendToAll</a>( BufferLen, Buffer, FastSend );
<a name="l00206"></a>00206
<a name="l00207"></a>00207     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00208"></a>00208 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c43a7d7ec8ac88d7929f19717d7a55d0"></a><!-- doxytag: member="Omiscid::Service::SendToAllClients" ref="c43a7d7ec8ac88d7929f19717d7a55d0" args="(SimpleString ConnectorName, SimpleString MessageAsString, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendToAllClients           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message to all the clients connected to a specific connector of the service <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector sending the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MessageAsString</em>&nbsp;</td><td>the string containing the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>Should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, faster but with possibly message lost ? </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00106">106</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00182">SendToAllClients()</a>.<div class="fragment"><pre class="fragment"><a name="l00107"></a>00107     {
<a name="l00108"></a>00108         <span class="comment">// Just call the previous one</span>
<a name="l00109"></a>00109         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#e3d72689dcd84b1082d503831407cb6c">SendToAllClients</a>( ConnectorName, (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), UnreliableButFastSend );
<a name="l00110"></a>00110     };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5f0b0c53348ca97de568ff66eec8fce7"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="5f0b0c53348ca97de568ff66eec8fce7" args="(SimpleString ConnectorName, char *Buffer, int BufferLen, ServiceProxy &amp;ServProxy, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a mesage to a particular client. This client is identified by <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> because we have been looking for it to create the connexion. We will send message to the first connector connected to this service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the service proxy we want to send data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00260">260</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_proxy_8cpp-source.html#l00342">Omiscid::ServiceProxy::GetPeerId()</a>.
<p>
Referenced by <a class="el" href="_service_8cpp-source.html#l00898">SendReplyToMessage()</a>, and <a class="el" href="_service_8cpp-source.html#l00265">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00261"></a>00261 {
<a name="l00262"></a>00262     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>(ConnectorName, Buffer, BufferLen, ServProxy.<a class="code" href="class_omiscid_1_1_service_proxy.html#69cce1a9834759deb522f8c15b88f5e9">GetPeerId</a>(), FastSend );
<a name="l00263"></a>00263 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="20eca09c1e8763ac6383f8d53605edd0"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="20eca09c1e8763ac6383f8d53605edd0" args="(SimpleString ConnectorName, SimpleString MessageAsString, ServiceProxy &amp;ServProxy, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a mesage to a particular client. This client is identified by <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> because we have been looking for it to create the connexion. We will send message to the first connector connected to this service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the service proxy we want to send data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00134">134</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00135"></a>00135     {
<a name="l00136"></a>00136         <span class="comment">// Just call the previous one</span>
<a name="l00137"></a>00137         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>( ConnectorName, (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), ServProxy, UnreliableButFastSend );
<a name="l00138"></a>00138     };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ba15ba2ac0c96831ddbf54c12c99ca63"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="ba15ba2ac0c96831ddbf54c12c99ca63" args="(SimpleString ConnectorName, char *Buffer, int BufferLen, ServiceProxy *ServProxy, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message to a particular client. This client is identified by <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> because we have been looking for it to create the connexion. We will send message to the first connector connected to this service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the service proxy we want to send data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00265">265</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_proxy_8cpp-source.html#l00342">Omiscid::ServiceProxy::GetPeerId()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <span class="keywordflow">if</span> ( ServProxy == NULL )
<a name="l00268"></a>00268     {
<a name="l00269"></a>00269         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Coulnd not send data to (null) proxy\n"</span> );
<a name="l00270"></a>00270         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>(ConnectorName, Buffer, BufferLen, ServProxy-&gt;<a class="code" href="class_omiscid_1_1_service_proxy.html#69cce1a9834759deb522f8c15b88f5e9">GetPeerId</a>(), FastSend );
<a name="l00273"></a>00273 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cb7c1193ce1a7a5898a2c15897146434"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="cb7c1193ce1a7a5898a2c15897146434" args="(SimpleString ConnectorName, SimpleString MessageAsString, ServiceProxy *ServProxy, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message contained in a string to a particular client. This client is identified by <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> because we have been looking for it to create the connexion. We will send message to the first connector connected to this service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MessageAsString</em>&nbsp;</td><td>the string containing the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the service proxy we want to send data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00161">161</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00162"></a>00162     {
<a name="l00163"></a>00163         <span class="comment">// Just call the previous one</span>
<a name="l00164"></a>00164         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>( ConnectorName, (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), ServProxy, UnreliableButFastSend );
<a name="l00165"></a>00165     };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="361f52a09e52e4afe8361b19b4788403"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="361f52a09e52e4afe8361b19b4788403" args="(SimpleString ConnectorName, char *Buffer, int BufferLen, int PeerId, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>PeerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message to a particular client. This client is identified by its Peer id (pid). This method is usually used to answer a request coming from another service that has requested a connexion with us. We know this service from its pid inside its request message (see <a class="el" href="class_omiscid_1_1_message.html">Message</a>#). We do not have a <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> for it because we have not found this service to initiate the connexion. If the Peer Id is a service peerid and not a connector one, the message will be sent to the first connector of the service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PeerId</em>&nbsp;</td><td>: the identification of the client that must receive the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>Should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, faster but with possibly message lost ? </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00220">220</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00238">Omiscid::InOutputAttribute::IsAnInput()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_connector_8cpp-source.html#l00296">Omiscid::Connector::SendToPeer()</a>.<div class="fragment"><pre class="fragment"><a name="l00221"></a>00221 {
<a name="l00222"></a>00222     <span class="keywordflow">if</span> ( Buffer == NULL &amp;&amp; BufferLen != 0 )
<a name="l00223"></a>00223     {
<a name="l00224"></a>00224         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not send (null) buffer\n"</span> );
<a name="l00225"></a>00225         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00226"></a>00226     }
<a name="l00227"></a>00227     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00228"></a>00228     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00229"></a>00229     {
<a name="l00230"></a>00230         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00231"></a>00231         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233     <span class="keywordflow">if</span> ( pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#24957af28339e8ee6f28e3e800df32ca">IsAnInput</a>() )
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not send data on an input connector.\n"</span> );
<a name="l00236"></a>00236         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00237"></a>00237     }
<a name="l00238"></a>00238
<a name="l00239"></a>00239     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00240"></a>00240
<a name="l00241"></a>00241     <span class="comment">// What is it ?</span>
<a name="l00242"></a>00242     <span class="comment">// if ( pConnector-&gt;GetMaxMessageSizeForTCP() &lt;= BufferLen )</span>
<a name="l00243"></a>00243
<a name="l00244"></a>00244     <span class="comment">// if ReliableSend == true, we should send over udp so the last parameter (udp send)</span>
<a name="l00245"></a>00245     <span class="comment">// must be true</span>
<a name="l00246"></a>00246     <span class="keywordflow">if</span> ( pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#79ee5193ac9a4f25ca2fa53de9128e5c">SendToPeer</a>( BufferLen, Buffer, PeerId, FastSend ) &lt;= 0 )
<a name="l00247"></a>00247     {
<a name="l00248"></a>00248         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250
<a name="l00251"></a>00251     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00252"></a>00252 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b0af3174d0f1801cbc3da4a142706dac"></a><!-- doxytag: member="Omiscid::Service::SendToOneClient" ref="b0af3174d0f1801cbc3da4a142706dac" args="(SimpleString ConnectorName, SimpleString MessageAsString, int PeerId, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendToOneClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>PeerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message to a particular client. This client is identified by its Peer id (pid). This method is usually used to answer a request coming from another service that has requested a connexion with us. We know this service from its pid inside its request message (see <a class="el" href="class_omiscid_1_1_message.html">Message</a>#). We do not have a <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> for it because we have not found this service to initiate the connexion. If the Peer Id is a service peerid and not a connector one, the message will be sent to the first connector of the service. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector that will send the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MessageAsString</em>&nbsp;</td><td>the string containing the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PeerId</em>&nbsp;</td><td>: the identification of the client that must receive the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>Should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, faster but with possibly message lost ? </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00194">194</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00195"></a>00195     {
<a name="l00196"></a>00196         <span class="comment">// Just call the previous one</span>
<a name="l00197"></a>00197         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>( ConnectorName, (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), PeerId, UnreliableButFastSend );
<a name="l00198"></a>00198     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7a79853abac630c4094b8d1c8c4bd381"></a><!-- doxytag: member="Omiscid::Service::SendReplyToMessage" ref="7a79853abac630c4094b8d1c8c4bd381" args="(SimpleString ConnectorName, char *Buffer, int BufferLen, const Message &amp;Msg, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendReplyToMessage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message back to the sender of a message just received. Allows to specify on which connector to send the answer. Defaults to reliable send. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector sending the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>the message to reply to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the answer was successfully send </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00921">921</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_message_8cpp-source.html#l00047">Omiscid::Message::GetPeerId()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00078">Omiscid::Accumulator::MessageReceived()</a>, and <a class="el" href="_service_8h-source.html#l00223">SendReplyToMessage()</a>.<div class="fragment"><pre class="fragment"><a name="l00922"></a>00922 {
<a name="l00923"></a>00923     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>( ConnectorName, Buffer, BufferLen, Msg.<a class="code" href="class_omiscid_1_1_message.html#9f21d85562f13fe7aea27a095be93eec">GetPeerId</a>(), UnreliableButFastSend );
<a name="l00924"></a>00924 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="af86bf50511f859286fa176ca0e5f181"></a><!-- doxytag: member="Omiscid::Service::SendReplyToMessage" ref="af86bf50511f859286fa176ca0e5f181" args="(SimpleString ConnectorName, SimpleString MessageAsString, const Message &amp;Msg, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendReplyToMessage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message back to the sender of a message just received. Allows to specify on which connector to send the answer. Defaults to reliable send. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector sending the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MessageAsString</em>&nbsp;</td><td>the string containing the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>the message to reply to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the answer was successfully send </dd></dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00223">223</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00921">SendReplyToMessage()</a>.<div class="fragment"><pre class="fragment"><a name="l00224"></a>00224     {
<a name="l00225"></a>00225         <span class="comment">// just call the previous one</span>
<a name="l00226"></a>00226         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#7a79853abac630c4094b8d1c8c4bd381">SendReplyToMessage</a>( ConnectorName, (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), Msg, UnreliableButFastSend );
<a name="l00227"></a>00227     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5b32acb77f053f85ceda51fc2ca87cda"></a><!-- doxytag: member="Omiscid::Service::SendReplyToMessage" ref="5b32acb77f053f85ceda51fc2ca87cda" args="(char *Buffer, int BufferLen, const Message &amp;Msg, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SendReplyToMessage           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message back to the sender of a message just received. Defaults to reliable send. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Buffer</em>&nbsp;</td><td>the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BufferLen</em>&nbsp;</td><td>the length of message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>the message to reply to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the answer was successfully send </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00898">898</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_8cpp-source.html#l00260">SendToOneClient()</a>.<div class="fragment"><pre class="fragment"><a name="l00899"></a>00899 {
<a name="l00900"></a>00900     ConnectorListener::ExtendedMessageForService * pExtMsg = dynamic_cast&lt;ConnectorListener::ExtendedMessageForService *&gt;((<a class="code" href="class_omiscid_1_1_message.html">Message</a>*)&amp;Msg);
<a name="l00901"></a>00901     <span class="keywordflow">if</span> ( pExtMsg == (ConnectorListener::ExtendedMessageForService *)NULL )
<a name="l00902"></a>00902     {
<a name="l00903"></a>00903         <span class="comment">// We do not have correct information</span>
<a name="l00904"></a>00904         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00905"></a>00905     }
<a name="l00906"></a>00906
<a name="l00907"></a>00907     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#5f0b0c53348ca97de568ff66eec8fce7">SendToOneClient</a>( pExtMsg-&gt;ReceivedFromConnector, Buffer, BufferLen, pExtMsg-&gt;GetPeerId(), UnreliableButFastSend );
<a name="l00908"></a>00908 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="067e789474c7de46a3a60fc76c495fc7"></a><!-- doxytag: member="Omiscid::Service::SendReplyToMessage" ref="067e789474c7de46a3a60fc76c495fc7" args="(SimpleString MessageAsString, const Message &amp;Msg, bool UnreliableButFastSend=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Omiscid::Service::SendReplyToMessage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>MessageAsString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_message.html">Message</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>UnreliableButFastSend</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a message back to the sender of a message just received. Defaults to reliable send. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MessageAsString</em>&nbsp;</td><td>the string containing the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>the message to reply to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UnreliableButFastSend</em>&nbsp;</td><td>should <a class="el" href="namespace_omiscid.html">Omiscid</a> send data, if possible, maybe faster but with possibly message lost </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the answer was successfully send </dd></dl>

<p>
Definition at line <a class="el" href="_service_8h-source.html#l00248">248</a> of file <a class="el" href="_service_8h-source.html">Service.h</a>.
<p>
References <a class="el" href="_simple_string_8cpp-source.html#l00902">Omiscid::SimpleString::GetLength()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_service_8cpp-source.html#l00921">SendReplyToMessage()</a>.<div class="fragment"><pre class="fragment"><a name="l00249"></a>00249     {
<a name="l00250"></a>00250         <span class="comment">// Just call the previous one</span>
<a name="l00251"></a>00251         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#7a79853abac630c4094b8d1c8c4bd381">SendReplyToMessage</a>( (<span class="keywordtype">char</span>*)MessageAsString.GetStr(), MessageAsString.GetLength(), Msg, UnreliableButFastSend );
<a name="l00252"></a>00252     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="aadf308131c325f0ce5b57e7fe6312f7"></a><!-- doxytag: member="Omiscid::Service::AddVariable" ref="aadf308131c325f0ce5b57e7fe6312f7" args="(SimpleString VarName, SimpleString Type, SimpleString VarDescription, VariableAccessType AccessType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::AddVariable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarDescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_omiscid.html#2d53987eca9b99d8ecc85ebeb6d68e6c">VariableAccessType</a>&nbsp;</td>
          <td class="paramname"> <em>AccessType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new <a class="el" href="namespace_omiscid.html">Omiscid</a> Variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Type</em>&nbsp;</td><td>the variable type (SimpleStrint::EmptyString or "" if no type is associated) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>VarDescription</em>&nbsp;</td><td>the variable description ((SimpleStrint::EmptyString or "" if no description provided) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>AccessType</em>&nbsp;</td><td>the access type of the variable. Can be ReadAccess, WriteAccess, ConstantAccess </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the variable is created, false if a problem occurs or if the name has already been used for a variable or a connector </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00282">282</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00786">Omiscid::ControlServer::AddVariable()</a>, <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00234">Omiscid::VariableAttribute::SetAccess()</a>, <a class="el" href="_attribute_8cpp-source.html#l00058">Omiscid::Attribute::SetDescription()</a>, and <a class="el" href="_variable_attribute_8cpp-source.html#l00229">Omiscid::VariableAttribute::SetType()</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00025">Omiscid::Accumulator::Accumulator()</a>, and <a class="el" href="_register_thread_8cpp-source.html#l00031">Omiscid::RegisterThread::Run()</a>.<div class="fragment"><pre class="fragment"><a name="l00283"></a>00283 {
<a name="l00284"></a>00284     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00285"></a>00285     <span class="keywordflow">if</span> ( pVar != NULL )
<a name="l00286"></a>00286     {
<a name="l00287"></a>00287         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"A variable named '%s' is already defined.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00288"></a>00288         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290
<a name="l00291"></a>00291     pVar = <a class="code" href="class_omiscid_1_1_control_server.html#ed8ea21333294d6506d74fd0d04bba45">ControlServer::AddVariable</a>( VarName );
<a name="l00292"></a>00292     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00293"></a>00293     {
<a name="l00294"></a>00294         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not allocate a new variable\n"</span> );
<a name="l00295"></a>00295         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00296"></a>00296     }
<a name="l00297"></a>00297
<a name="l00298"></a>00298     <span class="comment">// Set access type</span>
<a name="l00299"></a>00299     pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#9a93140036dc0d7189abdbd4ed918fa2">SetType</a>( Type );
<a name="l00300"></a>00300     pVar-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#c71330715b3dbfc3c51bab3d84484f94">SetDescription</a>( VarDescription );
<a name="l00301"></a>00301     pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#f423d09f46c5f376c5807f9c297a5a88">SetAccess</a>( AccessType );
<a name="l00302"></a>00302
<a name="l00303"></a>00303     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00304"></a>00304 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="39ef4b70fe9c38109fc0b9d19b607aa0"></a><!-- doxytag: member="Omiscid::Service::SetVariableDescription" ref="39ef4b70fe9c38109fc0b9d19b607aa0" args="(SimpleString VarName, SimpleString VarDescription)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SetVariableDescription           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarDescription</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change a description to an existing variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the var name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>VarDescription</em>&nbsp;</td><td>the description </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the new description is set, false otherwise. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service.html#aadf308131c325f0ce5b57e7fe6312f7">Service::AddVariable</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00311">311</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_attribute_8cpp-source.html#l00058">Omiscid::Attribute::SetDescription()</a>.<div class="fragment"><pre class="fragment"><a name="l00312"></a>00312 {
<a name="l00313"></a>00313     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00314"></a>00314     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00315"></a>00315     {
<a name="l00316"></a>00316         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find variable named '%s'.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00317"></a>00317         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319
<a name="l00320"></a>00320     pVar-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#c71330715b3dbfc3c51bab3d84484f94">SetDescription</a>( VarDescription );
<a name="l00321"></a>00321     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00322"></a>00322 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="adc31aa2b25d4469ff4fdeed7a8f54cd"></a><!-- doxytag: member="Omiscid::Service::GetVariableDescription" ref="adc31aa2b25d4469ff4fdeed7a8f54cd" args="(SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetVariableDescription           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the description associated to a variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the description </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service.html#aadf308131c325f0ce5b57e7fe6312f7">Service::AddVariable</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00330">330</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>, <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_attribute_8cpp-source.html#l00048">Omiscid::Attribute::GetDescription()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00331"></a>00331 {
<a name="l00332"></a>00332     <a class="code" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Empty(<a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>);
<a name="l00333"></a>00333
<a name="l00334"></a>00334     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00335"></a>00335     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00336"></a>00336     {
<a name="l00337"></a>00337         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find variable named '%s'.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00338"></a>00338         <span class="keywordflow">return</span> Empty;
<a name="l00339"></a>00339     }
<a name="l00340"></a>00340
<a name="l00341"></a>00341     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#576f599a8d93ed17a7c8dd187d7c46a3">GetDescription</a>();
<a name="l00342"></a>00342 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c8e734556251e2b0d624b26b4ba9d633"></a><!-- doxytag: member="Omiscid::Service::SetVariableValue" ref="c8e734556251e2b0d624b26b4ba9d633" args="(SimpleString VarName, SimpleString VarValue, bool SkipValidationPhase=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::SetVariableValue           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>SkipValidationPhase</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the value of a service variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>VarValue</em>&nbsp;</td><td>the new variable value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SkipValidationPhase</em>&nbsp;</td><td>whether to prevent LocalVariableListener::isValid to be called </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service.html#aadf308131c325f0ce5b57e7fe6312f7">Service::AddVariable</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00350">350</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00102">Omiscid::VariableAttribute::SetValue()</a>, and <a class="el" href="_variable_attribute_8cpp-source.html#l00138">Omiscid::VariableAttribute::SetValueFromControl()</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00025">Omiscid::Accumulator::Accumulator()</a>, <a class="el" href="_accumulator_8cpp-source.html#l00078">Omiscid::Accumulator::MessageReceived()</a>, and <a class="el" href="_register_thread_8cpp-source.html#l00031">Omiscid::RegisterThread::Run()</a>.<div class="fragment"><pre class="fragment"><a name="l00351"></a>00351 {
<a name="l00352"></a>00352     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00353"></a>00353     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00354"></a>00354     {
<a name="l00355"></a>00355         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find variable named '%s'.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00356"></a>00356         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358
<a name="l00359"></a>00359     <span class="keywordflow">if</span> ( SkipValidationPhase == <span class="keyword">true</span> )
<a name="l00360"></a>00360     {
<a name="l00361"></a>00361         pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#1f203d42114d6d1429f063bcb1fe4683">SetValueFromControl</a>( VarValue );
<a name="l00362"></a>00362     }
<a name="l00363"></a>00363     <span class="keywordflow">else</span>
<a name="l00364"></a>00364     {
<a name="l00365"></a>00365         pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#1479849be4b83fca69e54fc2881dc3e0">SetValue</a>( VarValue );
<a name="l00366"></a>00366     }
<a name="l00367"></a>00367     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00368"></a>00368 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f83e01c7de70a74865a7550d382c1395"></a><!-- doxytag: member="Omiscid::Service::GetVariableValue" ref="f83e01c7de70a74865a7550d382c1395" args="(SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetVariableValue           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the variable value <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the variable value </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Service::addVariable </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00376">376</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>, <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00259">Omiscid::VariableAttribute::GetValue()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00377"></a>00377 {
<a name="l00378"></a>00378     <a class="code" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Empty(<a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>);
<a name="l00379"></a>00379
<a name="l00380"></a>00380     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00381"></a>00381     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00382"></a>00382     {
<a name="l00383"></a>00383         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find variable named '%s'.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00384"></a>00384         <span class="keywordflow">return</span> Empty;
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386
<a name="l00387"></a>00387     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#45f8fe55fb00e3485309fccb2fafadef">GetValue</a>();
<a name="l00388"></a>00388 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fea070fc3a80fb78f553fbf17d86eea3"></a><!-- doxytag: member="Omiscid::Service::GetVariableAccessTypeType" ref="fea070fc3a80fb78f553fbf17d86eea3" args="(SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetVariableAccessTypeType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the variable access type <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the access type (<a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> version) </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Service::addVariable </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00396">396</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_variable_attribute_8cpp-source.html#l00042">Omiscid::VariableAttribute::AccessToStr()</a>, <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>, <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00279">Omiscid::VariableAttribute::GetAccess()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00397"></a>00397 {
<a name="l00398"></a>00398     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00399"></a>00399     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00400"></a>00400     {
<a name="l00401"></a>00401         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find variable named '%s'.\n"</span>, VarName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00402"></a>00402         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>;
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404
<a name="l00405"></a>00405     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_variable_attribute.html#1ca8366ff4e585329d7e33e3cdef2a8d">VariableAttribute::AccessToStr</a>(pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#b4488d1c775a453d615afa55f200c7d1">GetAccess</a>());
<a name="l00406"></a>00406 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8b8c749ab29327a7259b791ce0efdaf1"></a><!-- doxytag: member="Omiscid::Service::GetVariableType" ref="8b8c749ab29327a7259b791ce0efdaf1" args="(SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetVariableType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the string version of the variable type <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the variable type </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Service::addVariable </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00415">415</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>.<div class="fragment"><pre class="fragment"><a name="l00416"></a>00416 {
<a name="l00417"></a>00417     <a class="code" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Empty(<a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>);
<a name="l00418"></a>00418
<a name="l00419"></a>00419     <span class="keywordflow">return</span> Empty;
<a name="l00420"></a>00420 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8a23c9630d2db2128e36ada08fee6429"></a><!-- doxytag: member="Omiscid::Service::GetName" ref="8a23c9630d2db2128e36ada08fee6429" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the name of this service.
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the name of this service </dd></dl>

<p>
Reimplemented from <a class="el" href="class_omiscid_1_1_msg_socket.html#b0c5b480cb6cfbe936453014348e203e">Omiscid::MsgSocket</a>.
<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00866">866</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8h-source.html#l00343">Omiscid::ControlServer::serviceName</a>.
<p>
Referenced by <a class="el" href="_connector_listener_8cpp-source.html#l00044">Omiscid::ConnectorListener::Connected()</a>, and <a class="el" href="_connector_listener_8cpp-source.html#l00056">Omiscid::ConnectorListener::Disconnected()</a>.<div class="fragment"><pre class="fragment"><a name="l00867"></a>00867 {
<a name="l00868"></a>00868     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_server.html#71f1990aed02495067d45f44ebe99e8d">serviceName</a>;
<a name="l00869"></a>00869 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="305b093945e8da236835a3dbaaf8a1b2"></a><!-- doxytag: member="Omiscid::Service::GetPeerIdAsString" ref="305b093945e8da236835a3dbaaf8a1b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> Service::GetPeerIdAsString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the name of this service.
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the name of this service </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00875">875</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_string_variable_attribute_8cpp-source.html#l00024">Omiscid::StringVariableAttribute::GetValue()</a>, and <a class="el" href="_control_server_8h-source.html#l00350">Omiscid::ControlServer::PeerIdVariable</a>.<div class="fragment"><pre class="fragment"><a name="l00876"></a>00876 {
<a name="l00877"></a>00877     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_server.html#f0cb95ac9e1abc6dec057e526302f176">PeerIdVariable</a>-&gt;<a class="code" href="class_omiscid_1_1_string_variable_attribute.html#6579712755015128f0d56b2926012d95">GetValue</a>();
<a name="l00878"></a>00878 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="23fc852bd52ef29c0addc2cac229ce08"></a><!-- doxytag: member="Omiscid::Service::GetPeerId" ref="23fc852bd52ef29c0addc2cac229ce08" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int Service::GetPeerId           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the name of this service.
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the name of this service </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00884">884</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_string_variable_attribute_8cpp-source.html#l00024">Omiscid::StringVariableAttribute::GetValue()</a>, <a class="el" href="_com_tools_8cpp-source.html#l00035">Omiscid::ComTools::PeerIdFromString()</a>, and <a class="el" href="_control_server_8h-source.html#l00350">Omiscid::ControlServer::PeerIdVariable</a>.
<p>
Referenced by <a class="el" href="_send_huge_data_8cpp-source.html#l00113">Omiscid::SendHugeData::MessageReceived()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00064">Omiscid::SendHugeData::SearchAndConnectToAnotherOne()</a>.<div class="fragment"><pre class="fragment"><a name="l00885"></a>00885 {
<a name="l00886"></a>00886     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_com_tools.html#7f529b92a426c99b4eee63ee82249c3e">PeerIdFromString</a>(<a class="code" href="class_omiscid_1_1_control_server.html#f0cb95ac9e1abc6dec057e526302f176">PeerIdVariable</a>-&gt;<a class="code" href="class_omiscid_1_1_string_variable_attribute.html#6579712755015128f0d56b2926012d95">GetValue</a>());
<a name="l00887"></a>00887 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="19cba1b783b72abd42ba14cb96186b11"></a><!-- doxytag: member="Omiscid::Service::ConnectTo" ref="19cba1b783b72abd42ba14cb96186b11" args="(SimpleString LocalConnector, ServiceProxy &amp;ServProxy, SimpleString RemoteConnector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::ConnectTo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>LocalConnector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>RemoteConnector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects a local connector to a remote connector of a remote <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>LocalConnector</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the proxy of the remote service </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RemoteConnector</em>&nbsp;</td><td>the name of the remote connector on the remote service </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00466">466</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_connector_8cpp-source.html#l00118">Omiscid::Connector::ConnectTo()</a>, <a class="el" href="_simple_exception_8h-source.html#l00063">Omiscid::SimpleException::err</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00723">Omiscid::ServiceProxy::GetConnectionInfos()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00328">Omiscid::ServiceProxy::GetHostName()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00253">Omiscid::InOutputAttribute::GetType()</a>, <a class="el" href="_simple_exception_8h-source.html#l00062">Omiscid::SimpleException::msg</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_config_com_8h-source.html#l00034">Omiscid::ConnectionInfos::TcpPort</a>, and <a class="el" href="_config_com_8h-source.html#l00036">Omiscid::ConnectionInfos::Type</a>.
<p>
Referenced by <a class="el" href="_service_8cpp-source.html#l00529">ConnectTo()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00064">Omiscid::SendHugeData::SearchAndConnectToAnotherOne()</a>.<div class="fragment"><pre class="fragment"><a name="l00467"></a>00467 {
<a name="l00468"></a>00468     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( LocalConnector );
<a name="l00469"></a>00469     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00470"></a>00470     {
<a name="l00471"></a>00471         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, LocalConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00472"></a>00472         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474
<a name="l00475"></a>00475     <a class="code" href="class_omiscid_1_1_connection_infos.html">ConnectionInfos</a> Connection;
<a name="l00476"></a>00476     <span class="keywordflow">if</span> ( ServProxy.<a class="code" href="class_omiscid_1_1_service_proxy.html#73a0e142ca7ed79bb4a13e473c56f53a">GetConnectionInfos</a>( RemoteConnector, Connection ) == false )
<a name="l00477"></a>00477     {
<a name="l00478"></a>00478         <span class="comment">// OmiscidError already done in GetConnectionInfos</span>
<a name="l00479"></a>00479         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00480"></a>00480     }
<a name="l00481"></a>00481
<a name="l00482"></a>00482     <span class="comment">// Check compatibility</span>
<a name="l00483"></a>00483     <span class="keywordflow">switch</span>( pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#d0b4dbcea4671d52005910fcd6a8a4fa">GetType</a>() )
<a name="l00484"></a>00484     {
<a name="l00485"></a>00485         <span class="keywordflow">case</span> AnInput:
<a name="l00486"></a>00486             <span class="comment">// Can connect only on output and inoutput</span>
<a name="l00487"></a>00487             <span class="keywordflow">if</span> ( Connection.<a class="code" href="class_omiscid_1_1_connection_infos.html#47ea28f4bf24193ce0e0b650ce4e0623">Type</a> == AnInput )
<a name="l00488"></a>00488             {
<a name="l00489"></a>00489                 <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Cound not connect local input connector '%s' to another input connector '%s'\n"</span>, LocalConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>(), RemoteConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00490"></a>00490                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00491"></a>00491             }
<a name="l00492"></a>00492             <span class="keywordflow">break</span>;
<a name="l00493"></a>00493
<a name="l00494"></a>00494         <span class="keywordflow">case</span> AnOutput:
<a name="l00495"></a>00495             <span class="comment">// Can connect only on input and inoutput</span>
<a name="l00496"></a>00496             <span class="keywordflow">if</span> ( Connection.<a class="code" href="class_omiscid_1_1_connection_infos.html#47ea28f4bf24193ce0e0b650ce4e0623">Type</a> == AnOutput )
<a name="l00497"></a>00497             {
<a name="l00498"></a>00498                 <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Cound not connect local output connector '%s' to another output connector '%s'\n"</span>, LocalConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>(), RemoteConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00499"></a>00499                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00500"></a>00500             }
<a name="l00501"></a>00501             <span class="keywordflow">break</span>;
<a name="l00502"></a>00502
<a name="l00503"></a>00503         <span class="keywordflow">default</span>:        <span class="comment">// inoutput ans other</span>
<a name="l00504"></a>00504             <span class="comment">// Can connect to every thing</span>
<a name="l00505"></a>00505             <span class="keywordflow">break</span>;
<a name="l00506"></a>00506
<a name="l00507"></a>00507     }
<a name="l00508"></a>00508
<a name="l00509"></a>00509     <span class="comment">// Ok, here we go</span>
<a name="l00510"></a>00510     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00511"></a>00511
<a name="l00512"></a>00512     <span class="comment">// Let's connect to him</span>
<a name="l00513"></a>00513     <span class="keywordflow">try</span>
<a name="l00514"></a>00514     {
<a name="l00515"></a>00515         <span class="keywordflow">if</span> ( pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#628c32df4212a5ba7c79dd2b48181313">ConnectTo</a>( ServProxy.<a class="code" href="class_omiscid_1_1_service_proxy.html#09588e29357994bfc84095169935811c">GetHostName</a>(), Connection.<a class="code" href="class_omiscid_1_1_connection_infos.html#87c5f09bfe09393bb258592f683d69d5">TcpPort</a> ) == 0 )
<a name="l00516"></a>00516         {
<a name="l00517"></a>00517             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00518"></a>00518         }
<a name="l00519"></a>00519     }
<a name="l00520"></a>00520     <span class="keywordflow">catch</span>(<a class="code" href="class_omiscid_1_1_simple_exception.html">SimpleException</a>&amp; e)
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"%s (%d)\n."</span>, e.<a class="code" href="class_omiscid_1_1_simple_exception.html#bf3693dcd188f280e72bc861c19188bb">msg</a>.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>(), e.<a class="code" href="class_omiscid_1_1_simple_exception.html#25a4d280190281495a5f85fa4dca1319">err</a> );
<a name="l00523"></a>00523         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00524"></a>00524     }
<a name="l00525"></a>00525
<a name="l00526"></a>00526     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00527"></a>00527 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="25c465ff7106a8a57711a6667e8deb58"></a><!-- doxytag: member="Omiscid::Service::ConnectTo" ref="25c465ff7106a8a57711a6667e8deb58" args="(SimpleString LocalConnector, ServiceProxy *ServProxy, SimpleString RemoteConnector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::ConnectTo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>LocalConnector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td>
          <td class="paramname"> <em>ServProxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>RemoteConnector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects a local connector to a remote connector of a remote <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>LocalConnector</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ServProxy</em>&nbsp;</td><td>the proxy of the remote service </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RemoteConnector</em>&nbsp;</td><td>the name of the remote connector on the remote service </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00529">529</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_8cpp-source.html#l00466">ConnectTo()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00530"></a>00530 {
<a name="l00531"></a>00531     <span class="keywordflow">if</span> ( ServProxy == NULL )
<a name="l00532"></a>00532     {
<a name="l00533"></a>00533         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Coulnd not connect to (null) proxy service\n"</span> );
<a name="l00534"></a>00534         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00535"></a>00535     }
<a name="l00536"></a>00536     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#19cba1b783b72abd42ba14cb96186b11">ConnectTo</a>(LocalConnector, *ServProxy, RemoteConnector);
<a name="l00537"></a>00537 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2fe8c905f7562f8a9fc0b510ab4c19d4"></a><!-- doxytag: member="Omiscid::Service::ConnectTo" ref="2fe8c905f7562f8a9fc0b510ab4c19d4" args="(SimpleString LocalConnector, SimpleString HostName, unsigned int TcpPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::ConnectTo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>LocalConnector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>HostName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>TcpPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects a local connector to a remote connector of a remote <a class="el" href="class_omiscid_1_1_service.html">Service</a> Add the ability to connect to undiscovered Services (like Services not on local area network). !!!! Warning, we can not ensure that remote connector type are compatible !!!! <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>LocalConnector</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>HostName</em>&nbsp;</td><td>of the service (IP or DNS name) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TcpPort</em>&nbsp;</td><td>(TCP Port of the remote connector). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00546">546</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_connector_8cpp-source.html#l00118">Omiscid::Connector::ConnectTo()</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00547"></a>00547 {
<a name="l00548"></a>00548     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( LocalConnector );
<a name="l00549"></a>00549     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00550"></a>00550     {
<a name="l00551"></a>00551         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, LocalConnector.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00552"></a>00552         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00553"></a>00553     }
<a name="l00554"></a>00554
<a name="l00555"></a>00555     <span class="comment">// Ok, here we go</span>
<a name="l00556"></a>00556     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00557"></a>00557
<a name="l00558"></a>00558     <span class="comment">// Let's connect to him</span>
<a name="l00559"></a>00559     <span class="keywordflow">try</span>
<a name="l00560"></a>00560     {
<a name="l00561"></a>00561         <span class="keywordflow">if</span> ( pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#628c32df4212a5ba7c79dd2b48181313">ConnectTo</a>( HostName, TcpPort ) == 0 )
<a name="l00562"></a>00562         {
<a name="l00563"></a>00563             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00564"></a>00564         }
<a name="l00565"></a>00565     }
<a name="l00566"></a>00566     <span class="keywordflow">catch</span>(<a class="code" href="class_omiscid_1_1_simple_exception.html">SimpleException</a>&amp; e)
<a name="l00567"></a>00567     {
<a name="l00568"></a>00568         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"%s (%d)\n."</span>, e.msg.GetStr(), e.err );
<a name="l00569"></a>00569         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00570"></a>00570     }
<a name="l00571"></a>00571
<a name="l00572"></a>00572     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00573"></a>00573 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="95b09da7aeb2077d3241843ed860bb31"></a><!-- doxytag: member="Omiscid::Service::AddConnectorListener" ref="95b09da7aeb2077d3241843ed860bb31" args="(SimpleString ConnectorName, ConnectorListener *MsgListener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::AddConnectorListener           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_connector_listener.html">ConnectorListener</a> *&nbsp;</td>
          <td class="paramname"> <em>MsgListener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a message listener to a variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MsgListener</em>&nbsp;</td><td>the object that will handle messages sent to this connector </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00580">580</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_connector_8cpp-source.html#l00350">Omiscid::Connector::AddCallbackObject()</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00243">Omiscid::InOutputAttribute::IsAnOutput()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_config_system_8h-source.html#l00234">Omiscid::OmiscidTrace()</a>, and <a class="el" href="_connector_listener_8h-source.html#l00066">Omiscid::ConnectorListener::ServiceOfTheConnector</a>.
<p>
Referenced by <a class="el" href="_accumulator_8cpp-source.html#l00025">Omiscid::Accumulator::Accumulator()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00029">Omiscid::SendHugeData::SendHugeData()</a>.<div class="fragment"><pre class="fragment"><a name="l00581"></a>00581 {
<a name="l00582"></a>00582     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00583"></a>00583     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00584"></a>00584     {
<a name="l00585"></a>00585         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00586"></a>00586         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588
<a name="l00589"></a>00589     <span class="keywordflow">if</span> ( pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#5e0f465abeb05428f61d1c4d9ca598f5">IsAnOutput</a>() )   <span class="comment">// can be Input, InOutput, but limited on Output</span>
<a name="l00590"></a>00590     {
<a name="l00591"></a>00591         <a class="code" href="namespace_omiscid.html#75386ddb9b14af103045f0df7c2b2429">OmiscidTrace</a>( <span class="stringliteral">"Could only receive connection/deconnecion notification over %s output connector.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00592"></a>00592     }
<a name="l00593"></a>00593
<a name="l00594"></a>00594     <span class="comment">// Get the connector</span>
<a name="l00595"></a>00595     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00596"></a>00596
<a name="l00597"></a>00597     MsgListener-&gt;<a class="code" href="class_omiscid_1_1_connector_listener.html#393d9dc21c46db792ae431ba850abe92">ServiceOfTheConnector</a> = <span class="keyword">this</span>;
<a name="l00598"></a>00598
<a name="l00599"></a>00599     <span class="comment">// Link to receive messages</span>
<a name="l00600"></a>00600     <span class="keywordflow">return</span> pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#580c5205fd1516a5f508ab9cc39a7eb1">AddCallbackObject</a>( MsgListener );
<a name="l00601"></a>00601 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="01bc69a978f41add1fef25f142f66f1e"></a><!-- doxytag: member="Omiscid::Service::RemoveConnectorListener" ref="01bc69a978f41add1fef25f142f66f1e" args="(SimpleString ConnectorName, ConnectorListener *MsgListener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::RemoveConnectorListener           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_connector_listener.html">ConnectorListener</a> *&nbsp;</td>
          <td class="paramname"> <em>MsgListener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a message listener from a connector <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the connector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MsgListener</em>&nbsp;</td><td>the object that will handle messages sent to this connector </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00608">608</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_connector_8cpp-source.html#l00378">Omiscid::Connector::RemoveCallbackObject()</a>.<div class="fragment"><pre class="fragment"><a name="l00609"></a>00609 {
<a name="l00610"></a>00610     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00611"></a>00611     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00612"></a>00612     {
<a name="l00613"></a>00613         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00614"></a>00614         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616
<a name="l00617"></a>00617     <span class="comment">// Get the connector</span>
<a name="l00618"></a>00618     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00619"></a>00619
<a name="l00620"></a>00620     <span class="comment">// Link to receive messages</span>
<a name="l00621"></a>00621     <span class="keywordflow">return</span> pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#f22b8e86e1a4768b9f78a7fa2304b58d">RemoveCallbackObject</a>( MsgListener );
<a name="l00622"></a>00622 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="adc707e38b3005952564448888abc071"></a><!-- doxytag: member="Omiscid::Service::RemoveAllConnectorListeners" ref="adc707e38b3005952564448888abc071" args="(SimpleString ConnectorName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Service::RemoveAllConnectorListeners           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes all listeners on a given connector. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the connector on which listeners will be removed. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00628">628</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>, and <a class="el" href="_connector_8cpp-source.html#l00408">Omiscid::Connector::RemoveAllCallbackObjects()</a>.<div class="fragment"><pre class="fragment"><a name="l00629"></a>00629 {
<a name="l00630"></a>00630     <span class="comment">// Search connector</span>
<a name="l00631"></a>00631     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00632"></a>00632     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00633"></a>00633     {
<a name="l00634"></a>00634         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00635"></a>00635         <span class="keywordflow">return</span>;
<a name="l00636"></a>00636     }
<a name="l00637"></a>00637
<a name="l00638"></a>00638     <span class="comment">// Get the connector</span>
<a name="l00639"></a>00639     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00640"></a>00640
<a name="l00641"></a>00641     <span class="comment">// Just remove all callback objects</span>
<a name="l00642"></a>00642     pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#905b3cbef239a3b84f2f3821bc5342fc">RemoveAllCallbackObjects</a>();
<a name="l00643"></a>00643 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="44cfa8fd383a916bcafe0b79e49ca989"></a><!-- doxytag: member="Omiscid::Service::RemoveAllConnectorListeners" ref="44cfa8fd383a916bcafe0b79e49ca989" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Service::RemoveAllConnectorListeners           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes all listeners on a all connectors.
<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00648">648</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8h-source.html#l00352">Omiscid::ControlServer::listInOutput</a>.<div class="fragment"><pre class="fragment"><a name="l00649"></a>00649 {
<a name="l00650"></a>00650     <span class="comment">// Walk amoung all connector</span>
<a name="l00651"></a>00651     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.First(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.Next() )
<a name="l00652"></a>00652     {
<a name="l00653"></a>00653         <span class="comment">// Get the connector</span>
<a name="l00654"></a>00654         <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(<a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.GetCurrent()-&gt;GetComTool());
<a name="l00655"></a>00655
<a name="l00656"></a>00656         <span class="comment">// Retrieve all PeerIds</span>
<a name="l00657"></a>00657         pConnector-&gt;RemoveAllCallbackObjects();
<a name="l00658"></a>00658     }
<a name="l00659"></a>00659 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2905add8b630ee88d45f59e00576fded"></a><!-- doxytag: member="Omiscid::Service::CloseConnection" ref="2905add8b630ee88d45f59e00576fded" args="(SimpleString ConnectorName, unsigned int PeerId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::CloseConnection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>PeerId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes a connection on a given connector to a given remote peer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the connector on which connection will be closed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PeerId</em>&nbsp;</td><td>the id of the remote peer which connection is to be closed </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00667">667</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_connector_8cpp-source.html#l00658">Omiscid::Connector::DisconnectPeerId()</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.
<p>
Referenced by <a class="el" href="_service_8cpp-source.html#l00689">CloseConnection()</a>.<div class="fragment"><pre class="fragment"><a name="l00668"></a>00668 {
<a name="l00669"></a>00669     <span class="comment">// Search connector</span>
<a name="l00670"></a>00670     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00671"></a>00671     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00672"></a>00672     {
<a name="l00673"></a>00673         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00674"></a>00674         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00675"></a>00675     }
<a name="l00676"></a>00676
<a name="l00677"></a>00677     <span class="comment">// Get the connector</span>
<a name="l00678"></a>00678     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00679"></a>00679
<a name="l00680"></a>00680     <span class="keywordflow">return</span> pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#a75b8840b61732fb59498c90fa865cda">DisconnectPeerId</a>( PeerId );
<a name="l00681"></a>00681 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f8632f736fcd6dc1c6b4fd544b255323"></a><!-- doxytag: member="Omiscid::Service::CloseConnection" ref="f8632f736fcd6dc1c6b4fd544b255323" args="(SimpleString ConnectorName, ServiceProxy *SrvProxy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::CloseConnection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *&nbsp;</td>
          <td class="paramname"> <em>SrvProxy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes a connection on a given connector to a given remote peer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the connector on which connection will be closed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SrvProxy</em>&nbsp;</td><td>a <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> we want to close connection to. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00689">689</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_8cpp-source.html#l00667">CloseConnection()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00342">Omiscid::ServiceProxy::GetPeerId()</a>, and <a class="el" href="_config_system_8h-source.html#l00234">Omiscid::OmiscidTrace()</a>.<div class="fragment"><pre class="fragment"><a name="l00690"></a>00690 {
<a name="l00691"></a>00691     <span class="keywordflow">if</span> ( SrvProxy == (<a class="code" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> *)NULL )
<a name="l00692"></a>00692     {
<a name="l00693"></a>00693         <a class="code" href="namespace_omiscid.html#75386ddb9b14af103045f0df7c2b2429">OmiscidTrace</a>( <span class="stringliteral">"Wrong parameter (NULL) for SrvProxy in Service::CloseConnection\n"</span> );
<a name="l00694"></a>00694         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00695"></a>00695     }
<a name="l00696"></a>00696
<a name="l00697"></a>00697     <span class="comment">// call myself with the Srv</span>
<a name="l00698"></a>00698     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#2905add8b630ee88d45f59e00576fded">CloseConnection</a>( ConnectorName, SrvProxy-&gt;<a class="code" href="class_omiscid_1_1_service_proxy.html#69cce1a9834759deb522f8c15b88f5e9">GetPeerId</a>() );
<a name="l00699"></a>00699 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8475b9d54e5aecaa111cebf90fe0b06f"></a><!-- doxytag: member="Omiscid::Service::CloseAllConnections" ref="8475b9d54e5aecaa111cebf90fe0b06f" args="(SimpleString ConnectorName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Service::CloseAllConnections           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes all connections on a given connector. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectorName</em>&nbsp;</td><td>the connector on which connections will be closed </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00705">705</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_connector_8cpp-source.html#l00658">Omiscid::Connector::DisconnectPeerId()</a>, <a class="el" href="_control_server_8cpp-source.html#l00388">Omiscid::ControlServer::FindInOutput()</a>, <a class="el" href="_in_output_attribute_8cpp-source.html#l00268">Omiscid::InOutputAttribute::GetComTool()</a>, <a class="el" href="_connector_8cpp-source.html#l00532">Omiscid::Connector::GetListPeerId()</a>, <a class="el" href="_simple_string_8cpp-source.html#l00897">Omiscid::SimpleString::GetStr()</a>, and <a class="el" href="_config_system_8h-source.html#l00226">Omiscid::OmiscidError()</a>.<div class="fragment"><pre class="fragment"><a name="l00706"></a>00706 {
<a name="l00707"></a>00707     <span class="comment">// Search connector</span>
<a name="l00708"></a>00708     <a class="code" href="class_omiscid_1_1_in_output_attribute.html">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_control_server.html#5adede9582423ed92f58c1277214d725">FindInOutput</a>( ConnectorName );
<a name="l00709"></a>00709     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00710"></a>00710     {
<a name="l00711"></a>00711         <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Could not find local connector '%s'.\n"</span>, ConnectorName.<a class="code" href="class_omiscid_1_1_simple_string.html#073b80f513204da691abc6b2f9b03338">GetStr</a>() );
<a name="l00712"></a>00712         <span class="keywordflow">return</span>;
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714
<a name="l00715"></a>00715     <span class="comment">// Get the connector</span>
<a name="l00716"></a>00716     <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#56dc9d36366f184a0c1ad0c3d7a3db47">GetComTool</a>());
<a name="l00717"></a>00717
<a name="l00718"></a>00718     <span class="comment">// Retrieve all PeerIds</span>
<a name="l00719"></a>00719     <a class="code" href="class_omiscid_1_1_simple_list.html">SimpleList&lt;unsigned int&gt;</a> PeerIdsList;
<a name="l00720"></a>00720     pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#12d389fb6bcee1d43ae4ef20c57a1549">GetListPeerId</a>( PeerIdsList );
<a name="l00721"></a>00721     <span class="keywordflow">while</span>( PeerIdsList.IsNotEmpty() )
<a name="l00722"></a>00722     {
<a name="l00723"></a>00723         pConnector-&gt;<a class="code" href="class_omiscid_1_1_connector.html#a75b8840b61732fb59498c90fa865cda">DisconnectPeerId</a>( PeerIdsList.ExtractFirst() );
<a name="l00724"></a>00724     }
<a name="l00725"></a>00725 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="71f96e3a0ef96c5e514229cd0393a185"></a><!-- doxytag: member="Omiscid::Service::CloseAllConnections" ref="71f96e3a0ef96c5e514229cd0393a185" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Service::CloseAllConnections           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes all connections on all connectors.
<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00730">730</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8h-source.html#l00352">Omiscid::ControlServer::listInOutput</a>.<div class="fragment"><pre class="fragment"><a name="l00731"></a>00731 {
<a name="l00732"></a>00732     <a class="code" href="class_omiscid_1_1_simple_list.html">SimpleList&lt;unsigned int&gt;</a> PeerIdsList;
<a name="l00733"></a>00733
<a name="l00734"></a>00734     <span class="comment">// Walk amoung all connector</span>
<a name="l00735"></a>00735     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.First(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.Next() )
<a name="l00736"></a>00736     {
<a name="l00737"></a>00737         <span class="comment">// Get the connector</span>
<a name="l00738"></a>00738         <a class="code" href="class_omiscid_1_1_connector.html">Connector</a> * pConnector = dynamic_cast&lt;Connector *&gt;(<a class="code" href="class_omiscid_1_1_control_server.html#6ef17b2e4a2851508f05090a5b4351d7">listInOutput</a>.GetCurrent()-&gt;GetComTool());
<a name="l00739"></a>00739
<a name="l00740"></a>00740         <span class="comment">// Retrieve all PeerIds</span>
<a name="l00741"></a>00741         pConnector-&gt;GetListPeerId( PeerIdsList );
<a name="l00742"></a>00742         <span class="keywordflow">while</span>( PeerIdsList.IsNotEmpty() )
<a name="l00743"></a>00743         {
<a name="l00744"></a>00744             pConnector-&gt;DisconnectPeerId( PeerIdsList.ExtractFirst() );
<a name="l00745"></a>00745         }
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ddbb2538e3fcca132b1870ed20376bb0"></a><!-- doxytag: member="Omiscid::Service::AddLocalVariableListener" ref="ddbb2538e3fcca132b1870ed20376bb0" args="(SimpleString VarName, LocalVariableListener *Listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::AddLocalVariableListener           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_local_variable_listener.html">LocalVariableListener</a> *&nbsp;</td>
          <td class="paramname"> <em>Listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a listener that will be triggered at every variable change <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Listener</em>&nbsp;</td><td>the adresse of the listener </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_local_variable_listener.html">LocalVariableListener</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00427">427</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_variable_attribute_8cpp-source.html#l00306">Omiscid::VariableAttribute::AddListener()</a>, and <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>.<div class="fragment"><pre class="fragment"><a name="l00428"></a>00428 {
<a name="l00429"></a>00429     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00430"></a>00430     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00431"></a>00431     {
<a name="l00432"></a>00432         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00433"></a>00433     }
<a name="l00434"></a>00434
<a name="l00435"></a>00435     <span class="comment">// Add a pointer to myself in this listener</span>
<a name="l00436"></a>00436     Listener-&gt;SetUserData( <span class="keyword">this</span> );
<a name="l00437"></a>00437
<a name="l00438"></a>00438     <span class="comment">// Ask to add the listenner</span>
<a name="l00439"></a>00439     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#1ec7e54c0fe56182c72b1ee47b6f0060">AddListener</a>( Listener );
<a name="l00440"></a>00440 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7de1c22720e40df757dcb4de1c7ef410"></a><!-- doxytag: member="Omiscid::Service::RemoveLocalVariableListener" ref="7de1c22720e40df757dcb4de1c7ef410" args="(SimpleString VarName, LocalVariableListener *Listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Service::RemoveLocalVariableListener           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_local_variable_listener.html">LocalVariableListener</a> *&nbsp;</td>
          <td class="paramname"> <em>Listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
remove a listener that was triggering at every variable change <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the variable name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Listener</em>&nbsp;</td><td>the adresse of the listener </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service.html#ddbb2538e3fcca132b1870ed20376bb0">Service::AddLocalVariableListener</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00447">447</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_control_server_8cpp-source.html#l00398">Omiscid::ControlServer::FindVariable()</a>, and <a class="el" href="_variable_attribute_8cpp-source.html#l00333">Omiscid::VariableAttribute::RemoveListener()</a>.<div class="fragment"><pre class="fragment"><a name="l00448"></a>00448 {
<a name="l00449"></a>00449     <a class="code" href="class_omiscid_1_1_variable_attribute.html">VariableAttribute</a> * pVar = <a class="code" href="class_omiscid_1_1_control_server.html#2cb6b0cd951e2a17934719c94a4151a7">FindVariable</a>( VarName );
<a name="l00450"></a>00450     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00451"></a>00451     {
<a name="l00452"></a>00452         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454
<a name="l00455"></a>00455     <span class="comment">// Ask to remove the listener</span>
<a name="l00456"></a>00456     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#258b1eceb8c6fc52a71c968623427e41">RemoveListener</a>( Listener );
<a name="l00457"></a>00457 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d868eaccaebc0f38d4d051561fc53ad0"></a><!-- doxytag: member="Omiscid::Service::FindService" ref="d868eaccaebc0f38d4d051561fc53ad0" args="(ServiceFilter *Filter, unsigned int WaitTime=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> * Service::FindService           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>Filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>WaitTime</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a service on the network. The research is based on a <a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Filter</em>&nbsp;</td><td>A filter in order to check if a service is valid for us. This Filter will be destroy during the function call. You <b>must</b> not provide adresses of stack objects but usually call function such as NameIs(const SimpleString Name) to create a filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>WaitTime</em>&nbsp;</td><td>Wait for WaitTime ms to find the service. If WaitTime == 0, wait until a valid service is here </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> if we can find a suitable one in the assigned time, NULL otherwise. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00754">754</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_8cpp-source.html#l00021">Omiscid::OmiscidServiceSearchData::Filter</a>, <a class="el" href="_control_server_8cpp-source.html#l00994">Omiscid::ControlServer::GetServiceId()</a>, <a class="el" href="_services_tools_8h-source.html#l00045">Omiscid::WaitForOmiscidServices::NeedService()</a>, <a class="el" href="_service_8cpp-source.html#l00022">Omiscid::OmiscidServiceSearchData::PeerId</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00261">Omiscid::WaitForDnsSdServices::WaitAll()</a>, and <a class="el" href="_service_8cpp-source.html#l00026">Omiscid::WaitForOmiscidServiceCallback()</a>.
<p>
Referenced by <a class="el" href="_service_8cpp-source.html#l00788">FindService()</a>, and <a class="el" href="_send_huge_data_8cpp-source.html#l00064">Omiscid::SendHugeData::SearchAndConnectToAnotherOne()</a>.<div class="fragment"><pre class="fragment"><a name="l00755"></a>00755 {
<a name="l00756"></a>00756     <span class="keywordflow">if</span> ( Filter == NULL )
<a name="l00757"></a>00757     {
<a name="l00758"></a>00758         <span class="keywordflow">return</span> NULL;
<a name="l00759"></a>00759     }
<a name="l00760"></a>00760
<a name="l00761"></a>00761     <span class="comment">// We want to be sure that we destroy data in the rigth order</span>
<a name="l00762"></a>00762     <span class="comment">// Let's do it by ourself</span>
<a name="l00763"></a>00763     <a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html">WaitForOmiscidServices</a> * WFOS = <span class="keyword">new</span> OMISCID_TLM <a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html">WaitForOmiscidServices</a>;
<a name="l00764"></a>00764     <span class="keywordflow">if</span> ( WFOS == NULL )
<a name="l00765"></a>00765     {
<a name="l00766"></a>00766         <span class="keywordflow">return</span> NULL;
<a name="l00767"></a>00767     }
<a name="l00768"></a>00768
<a name="l00769"></a>00769     <span class="comment">// Add serach information</span>
<a name="l00770"></a>00770     <a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html">OmiscidServiceSearchData</a> MyData;
<a name="l00771"></a>00771
<a name="l00772"></a>00772     <span class="comment">// Ok, I will ask for services</span>
<a name="l00773"></a>00773     MyData.<a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html#bc4ec44289d8807624bf1e1543af451a">PeerId</a> = <a class="code" href="class_omiscid_1_1_control_server.html#15bfb89e86b621a8b7810807866a16f9">GetServiceId</a>();
<a name="l00774"></a>00774     MyData.<a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html#64f654d84ab02a917cd3226effc1d443">Filter</a> = Filter;
<a name="l00775"></a>00775
<a name="l00776"></a>00776     <span class="comment">// Ask to work on all service (we do not provide a name)</span>
<a name="l00777"></a>00777     WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html#12d836fbeba17eceaa90ed3e9598938a">NeedService</a>( <a class="code" href="namespace_omiscid.html#498f2bb8568a0f828254314700b4ca8e">WaitForOmiscidServiceCallback</a>, (<span class="keywordtype">void</span>*)&amp;MyData);
<a name="l00778"></a>00778     WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_dns_sd_services.html#33e19a8d2fa8cc25d3d05b9f6ea230b4">WaitAll</a>(WaitTime);
<a name="l00779"></a>00779
<a name="l00780"></a>00780     <span class="comment">// Delete by ourself the object. Thus we are sure that</span>
<a name="l00781"></a>00781     <span class="comment">// we will do it at the right time</span>
<a name="l00782"></a>00782     <span class="keyword">delete</span> WFOS;
<a name="l00783"></a>00783
<a name="l00784"></a>00784     <span class="comment">// If not found, return NULL</span>
<a name="l00785"></a>00785     <span class="keywordflow">return</span> MyData.Proxy;
<a name="l00786"></a>00786 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ef2501d61d8461246ee96f278951fde1"></a><!-- doxytag: member="Omiscid::Service::FindService" ref="ef2501d61d8461246ee96f278951fde1" args="(ServiceFilter &amp;Filter, unsigned int WaitTime=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> * Service::FindService           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>WaitTime</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a service on the network. The research is based on a <a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Filter</em>&nbsp;</td><td>A filter in order to check if a service is valid for us. This Filter will be destroy during the function call. You <b>can</b> not provide adresses of stack objects, this method do *no longer* call ServiceFilter::Duplicate ont the Filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>WaitTime</em>&nbsp;</td><td>Wait for WaitTime ms to find the service. If WaitTime == 0, wait until a valid service is here </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a> if we can find a suitable one in the assigned time, NULL otherwise. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00788">788</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_service_8cpp-source.html#l00754">FindService()</a>.<div class="fragment"><pre class="fragment"><a name="l00789"></a>00789 {
<a name="l00790"></a>00790     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service.html#d868eaccaebc0f38d4d051561fc53ad0">FindService</a>(&amp;Filter, WaitTime);
<a name="l00791"></a>00791 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0bfaf329db45328b4272141d44208736"></a><!-- doxytag: member="Omiscid::Service::FindServices" ref="0bfaf329db45328b4272141d44208736" args="(ServiceFilterList &amp;Filters, unsigned int WaitTime=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_service_proxy_list.html">ServiceProxyList</a> * Service::FindServices           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_service_filter_list.html">ServiceFilterList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Filters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>WaitTime</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a service on the network. The research is based on a <a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Filters</em>&nbsp;</td><td>A <a class="el" href="class_omiscid_1_1_service_filter_list.html">ServiceFilterList</a> who contain for all search services, a filter to find it. If the same search is done over 2 different services, the result can be computed only if there are 2 different services that are valids. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>WaitTime</em>&nbsp;</td><td>Wait for WaitTime ms to find the service. If WaitTime == 0, wait until a valid service is here </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="class_omiscid_1_1_service_proxy_list.html">ServiceProxyList</a> containing all found services. NULL if we can not find <b>all of them</b> in the assigned time. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_omiscid_1_1_service_filter.html">ServiceFilter</a> </dd></dl>

<p>
Definition at line <a class="el" href="_service_8cpp-source.html#l00793">793</a> of file <a class="el" href="_service_8cpp-source.html">Service.cpp</a>.
<p>
References <a class="el" href="_simple_list_8h-source.html#l00284">Omiscid::SimpleList&lt; TYPE &gt;::AddTail()</a>, <a class="el" href="_service_8cpp-source.html#l00021">Omiscid::OmiscidServiceSearchData::Filter</a>, <a class="el" href="_simple_list_8h-source.html#l00298">Omiscid::SimpleList&lt; TYPE &gt;::First()</a>, <a class="el" href="_simple_list_8h-source.html#l00361">Omiscid::SimpleList&lt; TYPE &gt;::GetCurrent()</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00324">Omiscid::WaitForDnsSdServices::GetNbOfSearchedServices()</a>, <a class="el" href="_simple_list_8h-source.html#l00291">Omiscid::SimpleList&lt; TYPE &gt;::GetNumberOfElements()</a>, <a class="el" href="_control_server_8cpp-source.html#l00994">Omiscid::ControlServer::GetServiceId()</a>, <a class="el" href="_services_tools_8h-source.html#l00045">Omiscid::WaitForOmiscidServices::NeedService()</a>, <a class="el" href="_simple_list_8h-source.html#l00307">Omiscid::SimpleList&lt; TYPE &gt;::Next()</a>, <a class="el" href="_simple_list_8h-source.html#l00350">Omiscid::SimpleList&lt; TYPE &gt;::NotAtEnd()</a>, <a class="el" href="_service_8cpp-source.html#l00022">Omiscid::OmiscidServiceSearchData::PeerId</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00261">Omiscid::WaitForDnsSdServices::WaitAll()</a>, and <a class="el" href="_service_8cpp-source.html#l00026">Omiscid::WaitForOmiscidServiceCallback()</a>.<div class="fragment"><pre class="fragment"><a name="l00794"></a>00794 {
<a name="l00795"></a>00795     <span class="keywordtype">int</span> i;
<a name="l00796"></a>00796
<a name="l00797"></a>00797     <span class="keywordflow">if</span> ( Filters.<a class="code" href="class_omiscid_1_1_simple_list.html#c6e954e31d9aa0747c1ecf17d30ab366">GetNumberOfElements</a>() == 0 )
<a name="l00798"></a>00798     {
<a name="l00799"></a>00799         <span class="keywordflow">return</span> NULL;
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801
<a name="l00802"></a>00802     <span class="comment">// We want to be sure that we destroy data in the rigth order</span>
<a name="l00803"></a>00803     <span class="comment">// Let's do it by ourself</span>
<a name="l00804"></a>00804     <a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html">WaitForOmiscidServices</a> *    WFOS = <span class="keyword">new</span> OMISCID_TLM <a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html">WaitForOmiscidServices</a>;
<a name="l00805"></a>00805     <a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html">OmiscidServiceSearchData</a>  * MyData;
<a name="l00806"></a>00806
<a name="l00807"></a>00807     <span class="keywordflow">if</span> ( WFOS == NULL )
<a name="l00808"></a>00808     {
<a name="l00809"></a>00809         <span class="keywordflow">return</span> NULL;
<a name="l00810"></a>00810     }
<a name="l00811"></a>00811
<a name="l00812"></a>00812     <span class="keywordflow">for</span>( Filters.<a class="code" href="class_omiscid_1_1_simple_list.html#c7c4fea9592c48f7acdfe213d1516699">First</a>(); Filters.<a class="code" href="class_omiscid_1_1_simple_list.html#0e70405af8976c36d348a7d13812e284">NotAtEnd</a>(); Filters.<a class="code" href="class_omiscid_1_1_simple_list.html#5f5bcce8d0d25343ee23ef38bc6afafb">Next</a>() )
<a name="l00813"></a>00813     {
<a name="l00814"></a>00814         MyData = <span class="keyword">new</span> OMISCID_TLM <a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html">OmiscidServiceSearchData</a>;
<a name="l00815"></a>00815         <span class="keywordflow">if</span> ( MyData == NULL )
<a name="l00816"></a>00816         {
<a name="l00817"></a>00817             <span class="comment">// delete WaitForOmiscidServices object</span>
<a name="l00818"></a>00818             <span class="keyword">delete</span> WFOS;
<a name="l00819"></a>00819
<a name="l00820"></a>00820             <span class="comment">// Problem, return nothing</span>
<a name="l00821"></a>00821             <span class="keywordflow">return</span> NULL;
<a name="l00822"></a>00822         }
<a name="l00823"></a>00823
<a name="l00824"></a>00824         <span class="comment">// Ok, I will ask for services</span>
<a name="l00825"></a>00825         MyData-&gt;<a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html#bc4ec44289d8807624bf1e1543af451a">PeerId</a> = <a class="code" href="class_omiscid_1_1_control_server.html#15bfb89e86b621a8b7810807866a16f9">GetServiceId</a>();
<a name="l00826"></a>00826         MyData-&gt;<a class="code" href="class_omiscid_1_1_omiscid_service_search_data.html#64f654d84ab02a917cd3226effc1d443">Filter</a> = Filters.<a class="code" href="class_omiscid_1_1_simple_list.html#9715320429f767edf3928f6b84117ebd">GetCurrent</a>();
<a name="l00827"></a>00827
<a name="l00828"></a>00828         <span class="comment">// Ask to work on all service (we do not provide a name)</span>
<a name="l00829"></a>00829         WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_omiscid_services.html#12d836fbeba17eceaa90ed3e9598938a">NeedService</a>( <a class="code" href="namespace_omiscid.html#498f2bb8568a0f828254314700b4ca8e">WaitForOmiscidServiceCallback</a>, (<span class="keywordtype">void</span>*)MyData);
<a name="l00830"></a>00830     }
<a name="l00831"></a>00831
<a name="l00832"></a>00832     <span class="comment">// The final result</span>
<a name="l00833"></a>00833     <a class="code" href="class_omiscid_1_1_service_proxy_list.html">ServiceProxyList</a> * ResultServicesProxy = NULL;
<a name="l00834"></a>00834
<a name="l00835"></a>00835     <span class="comment">// Let's serach for the services</span>
<a name="l00836"></a>00836     <span class="keywordtype">bool</span> ret = WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_dns_sd_services.html#33e19a8d2fa8cc25d3d05b9f6ea230b4">WaitAll</a>(WaitTime);
<a name="l00837"></a>00837
<a name="l00838"></a>00838     <span class="comment">// Here all search threads have stopped</span>
<a name="l00839"></a>00839     <span class="keywordflow">if</span> ( ret == <span class="keyword">true</span> &amp;&amp; (ResultServicesProxy = <span class="keyword">new</span> OMISCID_TLM <a class="code" href="class_omiscid_1_1_service_proxy_list.html">ServiceProxyList</a>) != NULL )
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841         <span class="comment">// We found what we need and we manadge to construct a list</span>
<a name="l00842"></a>00842         <span class="comment">// Add the resulting proxy to the list</span>
<a name="l00843"></a>00843         <span class="keywordflow">for</span>( i = 0; i &lt; WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_dns_sd_services.html#06f413c18aadf9f5fa375433136e784f">GetNbOfSearchedServices</a>(); i++ )
<a name="l00844"></a>00844         {
<a name="l00845"></a>00845             ResultServicesProxy-&gt;<a class="code" href="class_omiscid_1_1_simple_list.html#4b872ad421b4a30769c7ca85e55453a2">AddTail</a>( (static_cast&lt;OmiscidServiceSearchData*&gt;(WFOS-&gt;operator [](i).UserData))-&gt;Proxy );
<a name="l00846"></a>00846         }
<a name="l00847"></a>00847     }
<a name="l00848"></a>00848
<a name="l00849"></a>00849     <span class="comment">// Delete all OmiscidServiceSearchData used</span>
<a name="l00850"></a>00850     <span class="keywordflow">for</span>( i = 0; i &lt; WFOS-&gt;<a class="code" href="class_omiscid_1_1_wait_for_dns_sd_services.html#06f413c18aadf9f5fa375433136e784f">GetNbOfSearchedServices</a>(); i++ )
<a name="l00851"></a>00851     {
<a name="l00852"></a>00852         <span class="comment">// delete the current i-th OmiscidServiceSearchData</span>
<a name="l00853"></a>00853         <span class="keyword">delete</span> static_cast&lt;OmiscidServiceSearchData*&gt;(WFOS-&gt;operator [](i).UserData);
<a name="l00854"></a>00854     }
<a name="l00855"></a>00855
<a name="l00856"></a>00856     <span class="comment">// delete search object</span>
<a name="l00857"></a>00857     <span class="keyword">delete</span> WFOS;
<a name="l00858"></a>00858
<a name="l00859"></a>00859     <span class="keywordflow">return</span> ResultServicesProxy;
<a name="l00860"></a>00860 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ServiceControl/ServiceControl/<a class="el" href="_service_8h-source.html">Service.h</a><li>ServiceControl/<a class="el" href="_service_8cpp-source.html">Service.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Mar 27 10:20:40 2008 for OMiSCID(aka O3MiSCID) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
