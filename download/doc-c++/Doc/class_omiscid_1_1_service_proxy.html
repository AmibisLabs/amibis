<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OMiSCID(aka O3MiSCID): Omiscid::ServiceProxy Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Omiscid</b>::<a class="el" href="class_omiscid_1_1_service_proxy.html">ServiceProxy</a>
  </div>
</div>
<div class="contents">
<h1>Omiscid::ServiceProxy Class Reference</h1><!-- doxytag: class="Omiscid::ServiceProxy" --><!-- doxytag: inherits="Omiscid::ControlClient" --><code>#include &lt;<a class="el" href="_service_proxy_8h-source.html">ServiceProxy.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Omiscid::ServiceProxy:</div>
<div class="dynsection">

<p><center><img src="class_omiscid_1_1_service_proxy.png" usemap="#Omiscid::ServiceProxy_map" border="0" alt=""></center>
<map name="Omiscid::ServiceProxy_map">
<area href="class_omiscid_1_1_control_client.html" alt="Omiscid::ControlClient" shape="rect" coords="552,168,763,192">
<area href="class_omiscid_1_1_tcp_client.html" alt="Omiscid::TcpClient" shape="rect" coords="110,112,321,136">
<area href="class_omiscid_1_1_x_m_l_tree_parser.html" alt="Omiscid::XMLTreeParser" shape="rect" coords="552,112,763,136">
<area href="class_omiscid_1_1_answers_manager.html" alt="Omiscid::AnswersManager" shape="rect" coords="773,112,984,136">
<area href="class_omiscid_1_1_msg_socket.html" alt="Omiscid::MsgSocket" shape="rect" coords="0,56,211,80">
<area href="class_omiscid_1_1_com_tools.html" alt="Omiscid::ComTools" shape="rect" coords="221,56,432,80">
<area href="class_omiscid_1_1_thread.html" alt="Omiscid::Thread" shape="rect" coords="442,56,653,80">
<area href="class_omiscid_1_1_msg_socket_callback_object.html" alt="Omiscid::MsgSocketCallbackObject" shape="rect" coords="663,56,874,80">
<area href="class_omiscid_1_1_thread.html" alt="Omiscid::Thread" shape="rect" coords="0,0,211,24">
</map>
</div>

<p>
<a href="class_omiscid_1_1_service_proxy-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#dabbdd51cb86119ddb08583c78a35a2a">GetVariables</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#03ef83e20bac449658428c13a9d04f24">GetInputConnectors</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#cdf19f8978b25fc2d095163dce9ee617">GetOutputConnectors</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#d79e268cce9d2c0436a8e088bdc029d6">GetInputOutputConnectors</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#09588e29357994bfc84095169935811c">GetHostName</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#69cce1a9834759deb522f8c15b88f5e9">GetPeerId</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#7ea592cb3eb4f21425ce9a673d8b3ced">GetPeerIdAsString</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#941d508da01ac820390cb154f693c2e1">GetName</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#bd0d8fa340293326801c5f1c3fda95ce">HasVariable</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#c9fa035f75ee8636a77150603141eb3a">SetVariableValue</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#0fb46457df74d418492a64861536246f">GetVariableValue</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#d19a35701b0415807dcc3e682a64fdc6">GetVariableType</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#0bfca4688ca06b2f4bef7c5222669ee1">GetVariableDescription</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">VariableAccessType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#d2b9eb9f292bed3e024cbcaeb0671564">GetVariableAccessTypeType</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#42a11258203c6f73268a002063404f2b">AddRemoteVariableChangeListener</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_remote_variable_change_listener.html">RemoteVariableChangeListener</a> *Listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#1db3f96f683d83a9fee1fe88e4c84923">RemoveRemoteVariableChangeListener</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> VarName, <a class="el" href="class_omiscid_1_1_remote_variable_change_listener.html">RemoteVariableChangeListener</a> *Listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#d5aedba5ede2685bccbe9fd4d5932e00">HasConnector</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName, ConnectorKind ItsKind=UnkownConnectorKind)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#bc0879e3fa77946c7cdb60b73535fad3">FindConnector</a> (unsigned int PeerId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_service_proxy.html#69d80c6aeb57052012f121eeb406c4c2">GetConnectorDescription</a> (const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ConnectorName)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author" compact><dt><b>Author:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8h-source.html#l00031">31</a> of file <a class="el" href="_service_proxy_8h-source.html">ServiceProxy.h</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="dabbdd51cb86119ddb08583c78a35a2a"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetVariables" ref="dabbdd51cb86119ddb08583c78a35a2a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp; ServiceProxy::GetVariables           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the list of variables <dl class="return" compact><dt><b>Returns:</b></dt><dd>the list of variables </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00238">238</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00966">Omiscid::ControlClient::GetVariableNameList()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00239"></a>00239 {
<a name="l00240"></a>00240     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#3c9349a764351c089202dc8c175059cc" title="Access to the list of variable name.">GetVariableNameList</a>();
<a name="l00241"></a>00241 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="03ef83e20bac449658428c13a9d04f24"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetInputConnectors" ref="03ef83e20bac449658428c13a9d04f24" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp; ServiceProxy::GetInputConnectors           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the list of connectors (input type) <dl class="return" compact><dt><b>Returns:</b></dt><dd>the list of connectors </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00247">247</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00976">Omiscid::ControlClient::GetInputNameList()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00304">UpdateDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00248"></a>00248 {
<a name="l00249"></a>00249     <span class="comment">// We got everything</span>
<a name="l00250"></a>00250     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">true</span> )
<a name="l00251"></a>00251     {
<a name="l00252"></a>00252         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#b4bd36741e47dd963a1633ae9b70bb34" title="Access to the list of input name.">GetInputNameList</a>();
<a name="l00253"></a>00253     }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255     <span class="comment">// In other case, update the description</span>
<a name="l00256"></a>00256     <a class="code" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a>();
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#b4bd36741e47dd963a1633ae9b70bb34" title="Access to the list of input name.">GetInputNameList</a>();
<a name="l00259"></a>00259 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cdf19f8978b25fc2d095163dce9ee617"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetOutputConnectors" ref="cdf19f8978b25fc2d095163dce9ee617" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp; ServiceProxy::GetOutputConnectors           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the list of connectors (output type) <dl class="return" compact><dt><b>Returns:</b></dt><dd>the list of connectors </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00265">265</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00986">Omiscid::ControlClient::GetOutputNameList()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00304">UpdateDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <span class="comment">// We got everything</span>
<a name="l00268"></a>00268     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">true</span> )
<a name="l00269"></a>00269     {
<a name="l00270"></a>00270         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#5cce4c7715cc7714c70a9b4c94c35a5e" title="Access to the list of output name.">GetOutputNameList</a>();
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="comment">// In other case, update the description</span>
<a name="l00274"></a>00274     <a class="code" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a>();
<a name="l00275"></a>00275 
<a name="l00276"></a>00276     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#5cce4c7715cc7714c70a9b4c94c35a5e" title="Access to the list of output name.">GetOutputNameList</a>();
<a name="l00277"></a>00277 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d79e268cce9d2c0436a8e088bdc029d6"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetInputOutputConnectors" ref="d79e268cce9d2c0436a8e088bdc029d6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_list.html">SimpleList</a>&lt; <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> &gt; &amp; ServiceProxy::GetInputOutputConnectors           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the list of connectors (input-output type) <dl class="return" compact><dt><b>Returns:</b></dt><dd>the list of connectors </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00283">283</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00996">Omiscid::ControlClient::GetInOutputNameList()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00304">UpdateDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00284"></a>00284 {
<a name="l00285"></a>00285     <span class="comment">// We got everything</span>
<a name="l00286"></a>00286     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">true</span> )
<a name="l00287"></a>00287     {
<a name="l00288"></a>00288         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#93d4253f685cd02e46278f4cbec8cf1c" title="Access to the list of inoutput name.">GetInOutputNameList</a>();
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     <span class="comment">// In other case, update the description</span>
<a name="l00292"></a>00292     <a class="code" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a>();
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#93d4253f685cd02e46278f4cbec8cf1c" title="Access to the list of inoutput name.">GetInOutputNameList</a>();
<a name="l00295"></a>00295 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9a0c53129f255411b086586752ec48dd"></a><!-- doxytag: member="Omiscid::ServiceProxy::UpdateDescription" ref="9a0c53129f255411b086586752ec48dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServiceProxy::UpdateDescription           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Updates the local view of a remote Omiscid service : <ul>
<li>
the list of variables (and value) </li>
<li>
the list of connectors (and port) </li>
</ul>
<p>
Updates the local view of a remote bip service : <ul>
<li>
the list of variables </li>
<li>
the list of connectors </li>
</ul>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00304">304</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00551">Omiscid::ControlClient::QueryDetailedDescription()</a>.</p>

<p>Referenced by <a class="el" href="_service_proxy_8cpp-source.html#l00666">FindConnector()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00247">GetInputConnectors()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00283">GetInputOutputConnectors()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00265">GetOutputConnectors()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00379">SetVariableValue()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00305"></a>00305 {
<a name="l00306"></a>00306     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">true</span> )
<a name="l00307"></a>00307     {
<a name="l00308"></a>00308         <span class="keywordflow">return</span>;
<a name="l00309"></a>00309     }
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00312"></a>00312     {
<a name="l00313"></a>00313         <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>( HostName, ControlPort );
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315 
<a name="l00316"></a>00316     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#da6654f87b6cc72818093e7ea5f8927f" title="Ask for a precise description of everything in the ControlServer.">QueryDetailedDescription</a>() == <span class="keyword">true</span> )
<a name="l00317"></a>00317     {
<a name="l00318"></a>00318         FullDescription = <span class="keyword">true</span>;
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321     <span class="comment">// else the value of FullDescription remain the same</span>
<a name="l00322"></a>00322 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="09588e29357994bfc84095169935811c"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetHostName" ref="09588e29357994bfc84095169935811c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetHostName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Host name where the remote service is located <dl class="return" compact><dt><b>Returns:</b></dt><dd>the host name </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00328">328</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>Referenced by <a class="el" href="_service_8cpp-source.html#l00466">Omiscid::Service::ConnectTo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00329"></a>00329 {
<a name="l00330"></a>00330     <span class="keywordflow">return</span> HostName;
<a name="l00331"></a>00331 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="69cce1a9834759deb522f8c15b88f5e9"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetPeerId" ref="69cce1a9834759deb522f8c15b88f5e9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ServiceProxy::GetPeerId           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The Peer Id of the remote Omiscid service <dl class="return" compact><dt><b>Returns:</b></dt><dd>the peer id</dd></dl>
The Peer Id of the remote bip service <dl class="return" compact><dt><b>Returns:</b></dt><dd>the peer id </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00342">342</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_service_proxy_8cpp-source.html#l00409">GetVariableValue()</a>, and <a class="el" href="_com_tools_8cpp-source.html#l00035">Omiscid::ComTools::PeerIdFromString()</a>.</p>

<p>Referenced by <a class="el" href="_service_8cpp-source.html#l00689">Omiscid::Service::CloseConnection()</a>, and <a class="el" href="_service_8cpp-source.html#l00260">Omiscid::Service::SendToOneClient()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00343"></a>00343 {
<a name="l00344"></a>00344     <span class="keywordflow">try</span>
<a name="l00345"></a>00345     {
<a name="l00346"></a>00346         <a class="code" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> lPeerId = <a class="code" href="class_omiscid_1_1_service_proxy.html#0fb46457df74d418492a64861536246f">GetVariableValue</a>( CommonServiceValues::NameForPeerIdString );
<a name="l00347"></a>00347 
<a name="l00348"></a>00348         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_com_tools.html#7f529b92a426c99b4eee63ee82249c3e" title="transcode peer Id from strinf to unsigned int">ComTools::PeerIdFromString</a>(lPeerId);
<a name="l00349"></a>00349     }
<a name="l00350"></a>00350     <span class="keywordflow">catch</span>( <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a> &amp; )
<a name="l00351"></a>00351     {
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <span class="keywordflow">return</span> 0;
<a name="l00355"></a>00355 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7ea592cb3eb4f21425ce9a673d8b3ced"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetPeerIdAsString" ref="7ea592cb3eb4f21425ce9a673d8b3ced" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetPeerIdAsString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The string containing the Peer Id of the remote bip service <dl class="return" compact><dt><b>Returns:</b></dt><dd>the peer id as a string </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00361">361</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00409">GetVariableValue()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00362"></a>00362 {
<a name="l00363"></a>00363     <span class="keywordflow">try</span>
<a name="l00364"></a>00364     {
<a name="l00365"></a>00365         <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service_proxy.html#0fb46457df74d418492a64861536246f">GetVariableValue</a>( CommonServiceValues::NameForPeerIdString );
<a name="l00366"></a>00366     }
<a name="l00367"></a>00367     <span class="keywordflow">catch</span>( <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>&amp; )
<a name="l00368"></a>00368     {
<a name="l00369"></a>00369     }
<a name="l00370"></a>00370 
<a name="l00371"></a>00371     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>;
<a name="l00372"></a>00372 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="941d508da01ac820390cb154f693c2e1"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetName" ref="941d508da01ac820390cb154f693c2e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The name of the remote Omiscid service <dl class="return" compact><dt><b>Returns:</b></dt><dd>name </dd></dl>

<p>Reimplemented from <a class="el" href="class_omiscid_1_1_msg_socket.html#b0c5b480cb6cfbe936453014348e203e">Omiscid::MsgSocket</a>.</p>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00333">333</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_service_proxy_8cpp-source.html#l00409">GetVariableValue()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00334"></a>00334 {
<a name="l00335"></a>00335     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_service_proxy.html#0fb46457df74d418492a64861536246f">GetVariableValue</a>( CommonServiceValues::NameForNameString );
<a name="l00336"></a>00336 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bd0d8fa340293326801c5f1c3fda95ce"></a><!-- doxytag: member="Omiscid::ServiceProxy::HasVariable" ref="bd0d8fa340293326801c5f1c3fda95ce" args="(const SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServiceProxy::HasVariable           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check availability of a variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00636">636</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00637"></a>00637 {
<a name="l00638"></a>00638     <span class="keywordflow">return</span> (FindVariable(VarName) != NULL);
<a name="l00639"></a>00639 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c9fa035f75ee8636a77150603141eb3a"></a><!-- doxytag: member="Omiscid::ServiceProxy::SetVariableValue" ref="c9fa035f75ee8636a77150603141eb3a" args="(const SimpleString VarName, const SimpleString value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServiceProxy::SetVariableValue           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>Value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the new value of a remote variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00379">379</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, <a class="el" href="_control_client_8cpp-source.html#l00401">Omiscid::ControlClient::QueryVariableModif()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00304">UpdateDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00380"></a>00380 {
<a name="l00381"></a>00381     <span class="comment">// Update description if needed</span>
<a name="l00382"></a>00382     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">false</span> )
<a name="l00383"></a>00383     {
<a name="l00384"></a>00384         <a class="code" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a>();
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00388"></a>00388     {
<a name="l00389"></a>00389         <span class="comment">// Update description if needed</span>
<a name="l00390"></a>00390         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00391"></a>00391         {
<a name="l00392"></a>00392             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00393"></a>00393         }
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#96bbc43750fb1e86c07822dd85024e28" title="Ask for a variable modification.">QueryVariableModif</a>(VarName, Value) == NULL )
<a name="l00397"></a>00397     {
<a name="l00398"></a>00398         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00399"></a>00399     }
<a name="l00400"></a>00400 
<a name="l00401"></a>00401     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00402"></a>00402 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0fb46457df74d418492a64861536246f"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetVariableValue" ref="0fb46457df74d418492a64861536246f" args="(const SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetVariableValue           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of a remote variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00409">409</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00279">Omiscid::VariableAttribute::GetAccess()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00259">Omiscid::VariableAttribute::GetValue()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00049">Omiscid::VariableAttribute::IsInitialised()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00357">Omiscid::ControlClient::QueryVariableDescription()</a>.</p>

<p>Referenced by <a class="el" href="_service_proxy_8cpp-source.html#l00333">GetName()</a>, <a class="el" href="_service_proxy_8cpp-source.html#l00342">GetPeerId()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00361">GetPeerIdAsString()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00410"></a>00410 {
<a name="l00411"></a>00411     <a class="code" href="class_omiscid_1_1_variable_attribute.html" title="Class to manage the variable of a service.">VariableAttribute</a> * pVar = FindVariable(VarName);
<a name="l00412"></a>00412     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00413"></a>00413     {
<a name="l00414"></a>00414         <a class="code" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> ErrMesg;
<a name="l00415"></a>00415         ErrMesg = <span class="stringliteral">"Unknown variable '"</span>;
<a name="l00416"></a>00416         ErrMesg += VarName;
<a name="l00417"></a>00417         ErrMesg += <span class="stringliteral">"'. Call HasVariableFirst."</span>;
<a name="l00418"></a>00418         <span class="keywordflow">throw</span>  <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( ErrMesg );
<a name="l00419"></a>00419     }
<a name="l00420"></a>00420 
<a name="l00421"></a>00421     <span class="comment">// If the variable is initialised</span>
<a name="l00422"></a>00422     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#a13a74c73572059631dce0471c1ec4b2">IsInitialised</a>() )
<a name="l00423"></a>00423     {
<a name="l00424"></a>00424         <span class="comment">// If we can get the current value</span>
<a name="l00425"></a>00425         <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#b4488d1c775a453d615afa55f200c7d1">GetAccess</a>() == ConstantAccess &amp;&amp; FullDescription == true )
<a name="l00426"></a>00426         {
<a name="l00427"></a>00427             <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#45f8fe55fb00e3485309fccb2fafadef">GetValue</a>();
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00432"></a>00432     {
<a name="l00433"></a>00433         <span class="comment">// Update description if needed</span>
<a name="l00434"></a>00434         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00435"></a>00435         {
<a name="l00436"></a>00436             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00437"></a>00437         }
<a name="l00438"></a>00438     }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440     <span class="comment">// Il all other cases</span>
<a name="l00441"></a>00441     pVar = <a class="code" href="class_omiscid_1_1_control_client.html#6e89ccffe030e06449735bbdc0d58860" title="Ask for a variable Description.">QueryVariableDescription</a>( VarName );
<a name="l00442"></a>00442     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00443"></a>00443     {
<a name="l00444"></a>00444         <span class="comment">// This one *here* should not appear</span>
<a name="l00445"></a>00445         <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( <span class="stringliteral">"Could not retrieve variable '"</span> + VarName + <span class="stringliteral">"'."</span> );
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#45f8fe55fb00e3485309fccb2fafadef">GetValue</a>();
<a name="l00448"></a>00448 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d19a35701b0415807dcc3e682a64fdc6"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetVariableType" ref="d19a35701b0415807dcc3e682a64fdc6" args="(const SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetVariableType           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the type of a remote variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00455">455</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00274">Omiscid::VariableAttribute::GetType()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00049">Omiscid::VariableAttribute::IsInitialised()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00357">Omiscid::ControlClient::QueryVariableDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00456"></a>00456 {
<a name="l00457"></a>00457     <a class="code" href="class_omiscid_1_1_variable_attribute.html" title="Class to manage the variable of a service.">VariableAttribute</a> * pVar = FindVariable(VarName);
<a name="l00458"></a>00458     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00459"></a>00459     {
<a name="l00460"></a>00460         <a class="code" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> ErrMesg;
<a name="l00461"></a>00461         ErrMesg = <span class="stringliteral">"Unknown variable '"</span>;
<a name="l00462"></a>00462         ErrMesg += VarName;
<a name="l00463"></a>00463         ErrMesg += <span class="stringliteral">"'. Call HasVariableFirst."</span>;
<a name="l00464"></a>00464         <span class="keywordflow">throw</span>  <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( ErrMesg );
<a name="l00465"></a>00465     }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467     <span class="comment">// If the variable is initialised</span>
<a name="l00468"></a>00468     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#a13a74c73572059631dce0471c1ec4b2">IsInitialised</a>() )
<a name="l00469"></a>00469     {
<a name="l00470"></a>00470         <span class="comment">// return the current type</span>
<a name="l00471"></a>00471         <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#c4eeca6ec64e80d86b967759783c3de2">GetType</a>();
<a name="l00472"></a>00472     }
<a name="l00473"></a>00473 
<a name="l00474"></a>00474     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00475"></a>00475     {
<a name="l00476"></a>00476         <span class="comment">// Update description if needed</span>
<a name="l00477"></a>00477         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00478"></a>00478         {
<a name="l00479"></a>00479             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00480"></a>00480         }
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     <span class="comment">// Il all other cases</span>
<a name="l00484"></a>00484     pVar = <a class="code" href="class_omiscid_1_1_control_client.html#6e89ccffe030e06449735bbdc0d58860" title="Ask for a variable Description.">QueryVariableDescription</a>( VarName );
<a name="l00485"></a>00485     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00486"></a>00486     {
<a name="l00487"></a>00487         <span class="comment">// This one *here* should not appear</span>
<a name="l00488"></a>00488         <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( <span class="stringliteral">"Could not retrieve variable '"</span> + VarName + <span class="stringliteral">"'."</span> );
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#c4eeca6ec64e80d86b967759783c3de2">GetType</a>();
<a name="l00492"></a>00492 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0bfca4688ca06b2f4bef7c5222669ee1"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetVariableDescription" ref="0bfca4688ca06b2f4bef7c5222669ee1" args="(const SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetVariableDescription           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the description of a remote variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00499">499</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_attribute_8cpp-source.html#l00048">Omiscid::Attribute::GetDescription()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00049">Omiscid::VariableAttribute::IsInitialised()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00357">Omiscid::ControlClient::QueryVariableDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <a class="code" href="class_omiscid_1_1_variable_attribute.html" title="Class to manage the variable of a service.">VariableAttribute</a> * pVar = FindVariable(VarName);
<a name="l00502"></a>00502     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00503"></a>00503     {
<a name="l00504"></a>00504         <a class="code" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> ErrMesg;
<a name="l00505"></a>00505         ErrMesg = <span class="stringliteral">"Unknown variable '"</span>;
<a name="l00506"></a>00506         ErrMesg += VarName;
<a name="l00507"></a>00507         ErrMesg += <span class="stringliteral">"'. Call HasVariableFirst."</span>;
<a name="l00508"></a>00508         <span class="keywordflow">throw</span>  <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( ErrMesg );
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="comment">// If the variable is initialised</span>
<a name="l00512"></a>00512     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#a13a74c73572059631dce0471c1ec4b2">IsInitialised</a>() )
<a name="l00513"></a>00513     {
<a name="l00514"></a>00514         <span class="comment">// return the current description</span>
<a name="l00515"></a>00515         <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#f32752da60142e49885504850687500e">GetDescription</a>();
<a name="l00516"></a>00516     }
<a name="l00517"></a>00517 
<a name="l00518"></a>00518     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00519"></a>00519     {
<a name="l00520"></a>00520         <span class="comment">// Update description if needed</span>
<a name="l00521"></a>00521         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00522"></a>00522         {
<a name="l00523"></a>00523             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00524"></a>00524         }
<a name="l00525"></a>00525     }
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <span class="comment">// Il all other cases</span>
<a name="l00528"></a>00528     pVar = <a class="code" href="class_omiscid_1_1_control_client.html#6e89ccffe030e06449735bbdc0d58860" title="Ask for a variable Description.">QueryVariableDescription</a>( VarName );
<a name="l00529"></a>00529     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00530"></a>00530     {
<a name="l00531"></a>00531         <span class="comment">// This one *here* should not appear</span>
<a name="l00532"></a>00532         <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( <span class="stringliteral">"Could not retrieve variable '"</span> + VarName + <span class="stringliteral">"'."</span> );
<a name="l00533"></a>00533     }
<a name="l00534"></a>00534 
<a name="l00535"></a>00535     <span class="keywordflow">return</span> pVar-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#f32752da60142e49885504850687500e">GetDescription</a>();
<a name="l00536"></a>00536 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d2b9eb9f292bed3e024cbcaeb0671564"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetVariableAccessTypeType" ref="d2b9eb9f292bed3e024cbcaeb0671564" args="(const SimpleString VarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VariableAccessType Omiscid::ServiceProxy::GetVariableAccessTypeType           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of a remote variable <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="42a11258203c6f73268a002063404f2b"></a><!-- doxytag: member="Omiscid::ServiceProxy::AddRemoteVariableChangeListener" ref="42a11258203c6f73268a002063404f2b" args="(const SimpleString VarName, RemoteVariableChangeListener *Listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServiceProxy::AddRemoteVariableChangeListener           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_remote_variable_change_listener.html">RemoteVariableChangeListener</a> *&nbsp;</td>
          <td class="paramname"> <em>Listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a listener to monitor variable changes <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00543">543</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_variable_attribute_8cpp-source.html#l00306">Omiscid::VariableAttribute::AddListener()</a>, <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00350">Omiscid::VariableAttribute::GetNumberOfListeners()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00846">Omiscid::ControlClient::Subscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00544"></a>00544 {
<a name="l00545"></a>00545     <span class="comment">// Serach the variable</span>
<a name="l00546"></a>00546     <a class="code" href="class_omiscid_1_1_variable_attribute.html" title="Class to manage the variable of a service.">VariableAttribute</a> * pVar = FindVariable( VarName );
<a name="l00547"></a>00547     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00548"></a>00548     {
<a name="l00549"></a>00549         <span class="comment">// not found</span>
<a name="l00550"></a>00550         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00551"></a>00551     }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00554"></a>00554     {
<a name="l00555"></a>00555         <span class="comment">// Update description if needed</span>
<a name="l00556"></a>00556         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00557"></a>00557         {
<a name="l00558"></a>00558             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00559"></a>00559         }
<a name="l00560"></a>00560     }
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     <span class="comment">// Add information about me</span>
<a name="l00563"></a>00563     Listener-&gt;SetUserData( <span class="keyword">this</span> );
<a name="l00564"></a>00564 
<a name="l00565"></a>00565     <span class="comment">// If we can not add the listener</span>
<a name="l00566"></a>00566     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#1ec7e54c0fe56182c72b1ee47b6f0060" title="Add a listener to this variable.">AddListener</a>( Listener ) == false )
<a name="l00567"></a>00567     {
<a name="l00568"></a>00568         <span class="comment">// Add information about me</span>
<a name="l00569"></a>00569         Listener-&gt;SetUserData( NULL );
<a name="l00570"></a>00570 
<a name="l00571"></a>00571         <span class="comment">// Say there was a problem</span>
<a name="l00572"></a>00572         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575     <span class="comment">// If it is the first listener, subscribe to the variable changes</span>
<a name="l00576"></a>00576     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#9d1c02ccd2d447255c0a47167de984ea" title="remove a listener to this variable.">GetNumberOfListeners</a>() == 1 )
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578         <span class="comment">// first listener</span>
<a name="l00579"></a>00579         <span class="comment">// Subscribe to the variable changes</span>
<a name="l00580"></a>00580         <a class="code" href="class_omiscid_1_1_control_client.html#96ff8b4f974f7188908bac6141bb6a57" title="Ask for receive variable modification.">Subscribe</a>( VarName );
<a name="l00581"></a>00581     }
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <span class="comment">// ok</span>
<a name="l00584"></a>00584     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00585"></a>00585 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1db3f96f683d83a9fee1fe88e4c84923"></a><!-- doxytag: member="Omiscid::ServiceProxy::RemoveRemoteVariableChangeListener" ref="1db3f96f683d83a9fee1fe88e4c84923" args="(const SimpleString VarName, RemoteVariableChangeListener *Listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServiceProxy::RemoveRemoteVariableChangeListener           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>VarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_omiscid_1_1_remote_variable_change_listener.html">RemoteVariableChangeListener</a> *&nbsp;</td>
          <td class="paramname"> <em>Listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a listener to monitor variable changes <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VarName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value (<a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> format) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00592">592</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_control_client_8cpp-source.html#l00328">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00350">Omiscid::VariableAttribute::GetNumberOfListeners()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l01464">Omiscid::MsgSocket::IsConnected()</a>, <a class="el" href="_variable_attribute_8cpp-source.html#l00333">Omiscid::VariableAttribute::RemoveListener()</a>, and <a class="el" href="_control_client_8cpp-source.html#l00867">Omiscid::ControlClient::Unsubscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00593"></a>00593 {
<a name="l00594"></a>00594     <span class="keywordtype">bool</span> ret;
<a name="l00595"></a>00595 
<a name="l00596"></a>00596     <span class="comment">// Serach for the variable</span>
<a name="l00597"></a>00597     <a class="code" href="class_omiscid_1_1_variable_attribute.html" title="Class to manage the variable of a service.">VariableAttribute</a> * pVar = FindVariable( VarName );
<a name="l00598"></a>00598     <span class="keywordflow">if</span> ( pVar == NULL )
<a name="l00599"></a>00599     {
<a name="l00600"></a>00600         <span class="comment">// Not found</span>
<a name="l00601"></a>00601         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00602"></a>00602     }
<a name="l00603"></a>00603 
<a name="l00604"></a>00604     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_msg_socket.html#643130a0e78dc5780e41571149ffb31c" title="Test if the MsgSocket is in usage.">IsConnected</a>() == <span class="keyword">false</span> )
<a name="l00605"></a>00605     {
<a name="l00606"></a>00606         <span class="comment">// Update description if needed</span>
<a name="l00607"></a>00607         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#af76b2d14a9ca46ecade22d5ac665c8b" title="Connection t a Control Server.">ConnectToCtrlServer</a>(HostName, ControlPort) == <span class="keyword">false</span> )
<a name="l00608"></a>00608         {
<a name="l00609"></a>00609             <span class="keywordflow">throw</span> <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>(<span class="stringliteral">"Can not connect to the Service."</span>);
<a name="l00610"></a>00610         }
<a name="l00611"></a>00611     }
<a name="l00612"></a>00612 
<a name="l00613"></a>00613     <span class="comment">// Aswk to remove the listener</span>
<a name="l00614"></a>00614     ret = pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#258b1eceb8c6fc52a71c968623427e41" title="remove a listener to this variable.">RemoveListener</a>( Listener );
<a name="l00615"></a>00615     <span class="keywordflow">if</span> ( ret == <span class="keyword">false</span> )
<a name="l00616"></a>00616     {
<a name="l00617"></a>00617         <span class="comment">// something goes wrong</span>
<a name="l00618"></a>00618         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00619"></a>00619     }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621     <span class="comment">// Do we have any listener left ?</span>
<a name="l00622"></a>00622     <span class="keywordflow">if</span> ( pVar-&gt;<a class="code" href="class_omiscid_1_1_variable_attribute.html#9d1c02ccd2d447255c0a47167de984ea" title="remove a listener to this variable.">GetNumberOfListeners</a>() == 0 )
<a name="l00623"></a>00623     {
<a name="l00624"></a>00624         <span class="comment">// If no, unsubscribe to the variable changes</span>
<a name="l00625"></a>00625         <a class="code" href="class_omiscid_1_1_control_client.html#285f8330e34fd8d11538c0ee12058cec" title="Ask for receive variable modification no longer.">Unsubscribe</a>( VarName );
<a name="l00626"></a>00626     }
<a name="l00627"></a>00627 
<a name="l00628"></a>00628     <span class="comment">// say, it was ok</span>
<a name="l00629"></a>00629     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00630"></a>00630 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d5aedba5ede2685bccbe9fd4d5932e00"></a><!-- doxytag: member="Omiscid::ServiceProxy::HasConnector" ref="d5aedba5ede2685bccbe9fd4d5932e00" args="(const SimpleString ConnectorName, ConnectorKind ItsKind=UnkownConnectorKind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServiceProxy::HasConnector           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConnectorKind&nbsp;</td>
          <td class="paramname"> <em>ItsKind</em> = <code>UnkownConnectorKind</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
search for a connector on the remote Omiscid service <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true or false </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00647">647</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_service_proxy_8cpp-source.html#l00666">FindConnector()</a>, and <a class="el" href="_in_output_attribute_8cpp-source.html#l00253">Omiscid::InOutputAttribute::GetType()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00648"></a>00648 {
<a name="l00649"></a>00649     <a class="code" href="class_omiscid_1_1_in_output_attribute.html" title="Class to manage the input or output of a service.">InOutputAttribute</a> * pAtt = <a class="code" href="class_omiscid_1_1_service_proxy.html#bc0879e3fa77946c7cdb60b73535fad3">FindConnector</a>(ConnectorName);
<a name="l00650"></a>00650     <span class="keywordflow">if</span> ( pAtt == NULL )
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00653"></a>00653     }
<a name="l00654"></a>00654     <span class="keywordflow">if</span> ( ItsKind != UnkownConnectorKind &amp;&amp; pAtt-&gt;<a class="code" href="class_omiscid_1_1_in_output_attribute.html#e7c15fa216e8f54163d493d1f708e846">GetType</a>() != ItsKind )
<a name="l00655"></a>00655     {
<a name="l00656"></a>00656         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00657"></a>00657     }
<a name="l00658"></a>00658     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00659"></a>00659 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bc0879e3fa77946c7cdb60b73535fad3"></a><!-- doxytag: member="Omiscid::ServiceProxy::FindConnector" ref="bc0879e3fa77946c7cdb60b73535fad3" args="(unsigned int PeerId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::FindConnector           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>PeerId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find a connector using its full or local PeerId<p>
search for a connector on the remote Omiscid service <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the remote variable </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true or false </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00666">666</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_simple_string_8h-source.html#l00249">Omiscid::SimpleString::EmptyString</a>, <a class="el" href="_control_client_8h-source.html#l00361">Omiscid::ControlClient::listInOutputAttr</a>, <a class="el" href="_control_client_8h-source.html#l00359">Omiscid::ControlClient::listInputAttr</a>, <a class="el" href="_control_client_8h-source.html#l00360">Omiscid::ControlClient::listOutputAttr</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00304">UpdateDescription()</a>.</p>

<p>Referenced by <a class="el" href="_service_proxy_8cpp-source.html#l00707">GetConnectorDescription()</a>, and <a class="el" href="_service_proxy_8cpp-source.html#l00647">HasConnector()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00667"></a>00667 {
<a name="l00668"></a>00668     <span class="comment">// Update description if needed</span>
<a name="l00669"></a>00669     <span class="keywordflow">if</span> ( FullDescription == <span class="keyword">false</span> )
<a name="l00670"></a>00670     {
<a name="l00671"></a>00671         <a class="code" href="class_omiscid_1_1_service_proxy.html#9a0c53129f255411b086586752ec48dd">UpdateDescription</a>();
<a name="l00672"></a>00672     }
<a name="l00673"></a>00673 
<a name="l00674"></a>00674     <span class="comment">// Serach for the connector</span>
<a name="l00675"></a>00675     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_client.html#6adbd6ad564291c073adbdf7d6e9df11">listInputAttr</a>.First(); <a class="code" href="class_omiscid_1_1_control_client.html#6adbd6ad564291c073adbdf7d6e9df11">listInputAttr</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_client.html#6adbd6ad564291c073adbdf7d6e9df11">listInputAttr</a>.Next() )
<a name="l00676"></a>00676     {
<a name="l00677"></a>00677         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#6adbd6ad564291c073adbdf7d6e9df11">listInputAttr</a>.GetCurrent()-&gt;GetPeerId() == PeerId )
<a name="l00678"></a>00678         {
<a name="l00679"></a>00679             <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#6adbd6ad564291c073adbdf7d6e9df11">listInputAttr</a>.GetCurrent()-&gt;GetName();
<a name="l00680"></a>00680         }
<a name="l00681"></a>00681     }
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_client.html#b1e06a7bf65c7e04ba6f61ba71e2545f">listOutputAttr</a>.First(); <a class="code" href="class_omiscid_1_1_control_client.html#b1e06a7bf65c7e04ba6f61ba71e2545f">listOutputAttr</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_client.html#b1e06a7bf65c7e04ba6f61ba71e2545f">listOutputAttr</a>.Next() )
<a name="l00684"></a>00684     {
<a name="l00685"></a>00685         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#b1e06a7bf65c7e04ba6f61ba71e2545f">listOutputAttr</a>.GetCurrent()-&gt;GetPeerId() == PeerId )
<a name="l00686"></a>00686         {
<a name="l00687"></a>00687             <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#b1e06a7bf65c7e04ba6f61ba71e2545f">listOutputAttr</a>.GetCurrent()-&gt;GetName();
<a name="l00688"></a>00688         }
<a name="l00689"></a>00689     }
<a name="l00690"></a>00690 
<a name="l00691"></a>00691     <span class="keywordflow">for</span>( <a class="code" href="class_omiscid_1_1_control_client.html#a8e92c16c72ee09f47674dd6c766dda9">listInOutputAttr</a>.First(); <a class="code" href="class_omiscid_1_1_control_client.html#a8e92c16c72ee09f47674dd6c766dda9">listInOutputAttr</a>.NotAtEnd(); <a class="code" href="class_omiscid_1_1_control_client.html#a8e92c16c72ee09f47674dd6c766dda9">listInOutputAttr</a>.Next() )
<a name="l00692"></a>00692     {
<a name="l00693"></a>00693         <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_control_client.html#a8e92c16c72ee09f47674dd6c766dda9">listInOutputAttr</a>.GetCurrent()-&gt;GetPeerId() == PeerId )
<a name="l00694"></a>00694         {
<a name="l00695"></a>00695             <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_control_client.html#a8e92c16c72ee09f47674dd6c766dda9">listInOutputAttr</a>.GetCurrent()-&gt;GetName();
<a name="l00696"></a>00696         }
<a name="l00697"></a>00697     }
<a name="l00698"></a>00698 
<a name="l00699"></a>00699     <span class="keywordflow">return</span> <a class="code" href="class_omiscid_1_1_simple_string.html#c6fd8dc249665e634760ba47fe32e983">SimpleString::EmptyString</a>;
<a name="l00700"></a>00700 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="69d80c6aeb57052012f121eeb406c4c2"></a><!-- doxytag: member="Omiscid::ServiceProxy::GetConnectorDescription" ref="69d80c6aeb57052012f121eeb406c4c2" args="(const SimpleString ConnectorName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a> ServiceProxy::GetConnectorDescription           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_omiscid_1_1_simple_string.html">SimpleString</a>&nbsp;</td>
          <td class="paramname"> <em>ConnectorName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find a connector using its full or local PeerId<p>
Retrieve the description of a remote controler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ConnectorName</em>&nbsp;</td><td>the name of the remote connector </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the description in a <a class="el" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> </dd></dl>

<p>Definition at line <a class="el" href="_service_proxy_8cpp-source.html#l00707">707</a> of file <a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a>.</p>

<p>References <a class="el" href="_service_proxy_8cpp-source.html#l00666">FindConnector()</a>, and <a class="el" href="_attribute_8cpp-source.html#l00048">Omiscid::Attribute::GetDescription()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00708"></a>00708 {
<a name="l00709"></a>00709     <a class="code" href="class_omiscid_1_1_in_output_attribute.html" title="Class to manage the input or output of a service.">InOutputAttribute</a> * pAtt;
<a name="l00710"></a>00710     pAtt = <a class="code" href="class_omiscid_1_1_service_proxy.html#bc0879e3fa77946c7cdb60b73535fad3">FindConnector</a>( ConnectorName );
<a name="l00711"></a>00711     <span class="keywordflow">if</span> ( pAtt == (<a class="code" href="class_omiscid_1_1_in_output_attribute.html" title="Class to manage the input or output of a service.">InOutputAttribute</a> *)NULL )
<a name="l00712"></a>00712     {
<a name="l00713"></a>00713         <a class="code" href="class_omiscid_1_1_simple_string.html" title="Storage and manipulation of character strings.">SimpleString</a> ErrMesg;
<a name="l00714"></a>00714         ErrMesg = <span class="stringliteral">"Unknown Connector '"</span>;
<a name="l00715"></a>00715         ErrMesg += ConnectorName;
<a name="l00716"></a>00716         ErrMesg += <span class="stringliteral">"'. Call HasConnector First."</span>;
<a name="l00717"></a>00717         <span class="keywordflow">throw</span>  <a class="code" href="class_omiscid_1_1_simple_exception.html" title="Exception raised by the object of the OMiSCID system library.">SimpleException</a>( ErrMesg );
<a name="l00718"></a>00718     }
<a name="l00719"></a>00719 
<a name="l00720"></a>00720     <span class="keywordflow">return</span> pAtt-&gt;<a class="code" href="class_omiscid_1_1_attribute.html#f32752da60142e49885504850687500e">GetDescription</a>();
<a name="l00721"></a>00721 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ServiceControl/ServiceControl/<a class="el" href="_service_proxy_8h-source.html">ServiceProxy.h</a><li>ServiceControl/<a class="el" href="_service_proxy_8cpp-source.html">ServiceProxy.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 1 08:17:02 2008 for OMiSCID(aka O3MiSCID) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
