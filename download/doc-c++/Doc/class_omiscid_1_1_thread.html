<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OMiSCID(aka O3MiSCID): Omiscid::Thread Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespace_omiscid.html">Omiscid</a>::<a class="el" href="class_omiscid_1_1_thread.html">Thread</a></div>
<h1>Omiscid::Thread Class Reference</h1><!-- doxytag: class="Omiscid::Thread" --><a class="el" href="class_omiscid_1_1_thread.html">Thread</a> Implementation.
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_thread_8h-source.html">System/Thread.h</a>&gt;</code>
<p>
<p>Inheritance diagram for Omiscid::Thread:
<p><center><img src="class_omiscid_1_1_thread.png" usemap="#Omiscid::Thread_map" border="0" alt=""></center>
<map name="Omiscid::Thread_map">
<area href="class_omiscid_1_1_browse_for_d_n_s_s_d_service.html" alt="Omiscid::BrowseForDNSSDService" shape="rect" coords="0,56,212,80">
<area href="class_omiscid_1_1_msg_socket.html" alt="Omiscid::MsgSocket" shape="rect" coords="333,56,545,80">
<area href="class_omiscid_1_1_register_thread.html" alt="Omiscid::RegisterThread" shape="rect" coords="555,56,767,80">
<area href="class_omiscid_1_1_wait_for_dns_sd_services.html" alt="Omiscid::WaitForDnsSdServices" shape="rect" coords="888,56,1100,80">
<area href="class_omiscid_1_1_x_m_l_tree_parser.html" alt="Omiscid::XMLTreeParser" shape="rect" coords="1276,56,1488,80">
<area href="class_omiscid_1_1_tcp_client.html" alt="Omiscid::TcpClient" shape="rect" coords="0,112,212,136">
<area href="class_omiscid_1_1_tcp_server.html" alt="Omiscid::TcpServer" shape="rect" coords="333,112,545,136">
<area href="class_omiscid_1_1_udp_exchange.html" alt="Omiscid::UdpExchange" shape="rect" coords="666,112,878,136">
<area href="class_omiscid_1_1_wait_for_omiscid_services.html" alt="Omiscid::WaitForOmiscidServices" shape="rect" coords="888,112,1100,136">
<area href="class_omiscid_1_1_control_client.html" alt="Omiscid::ControlClient" shape="rect" coords="1110,112,1322,136">
<area href="class_omiscid_1_1_control_server.html" alt="Omiscid::ControlServer" shape="rect" coords="1443,112,1655,136">
<area href="class_omiscid_1_1_control_client.html" alt="Omiscid::ControlClient" shape="rect" coords="0,168,212,192">
<area href="class_omiscid_1_1_connector.html" alt="Omiscid::Connector" shape="rect" coords="222,168,434,192">
<area href="class_omiscid_1_1_control_server.html" alt="Omiscid::ControlServer" shape="rect" coords="444,168,656,192">
<area href="class_omiscid_1_1_connector.html" alt="Omiscid::Connector" shape="rect" coords="666,168,878,192">
<area href="class_omiscid_1_1_service_proxy.html" alt="Omiscid::ServiceProxy" shape="rect" coords="1110,168,1322,192">
<area href="class_omiscid_1_1_service.html" alt="Omiscid::Service" shape="rect" coords="1332,168,1544,192">
<area href="class_omiscid_1_1_service_from_x_m_l.html" alt="Omiscid::ServiceFromXML" shape="rect" coords="1554,168,1766,192">
<area href="class_omiscid_1_1_service_proxy.html" alt="Omiscid::ServiceProxy" shape="rect" coords="0,224,212,248">
<area href="class_omiscid_1_1_service.html" alt="Omiscid::Service" shape="rect" coords="333,224,545,248">
<area href="class_omiscid_1_1_service_from_x_m_l.html" alt="Omiscid::ServiceFromXML" shape="rect" coords="555,224,767,248">
</map>
<a href="class_omiscid_1_1_thread-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#12cc1b699cb562eb1d9e1b067cc981b8">Thread</a> (bool autostart=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#12cc1b699cb562eb1d9e1b067cc981b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#37d9edd3a1a776cbc27dedff949c9726">~Thread</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#37d9edd3a1a776cbc27dedff949c9726"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#eb4de8e03ee2008da85d695d64cf8ad6">StartThread</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the thread.  <a href="#eb4de8e03ee2008da85d695d64cf8ad6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#904f3d716a910c28bb28833a9f575832">StopThread</a> (int wait_ms=DEFAULT_THREAD_DESTRUCTOR_TIMEOUT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop the thread.  <a href="#904f3d716a910c28bb28833a9f575832"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#6d77f70b6e064914648fddb635326b16">IsRunning</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return if the thread is running.  <a href="#6d77f70b6e064914648fddb635326b16"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#78678cf0e10de6fcec7ea20faf1a2c5c">Sleep</a> (int nb_ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the calling thread sleep  <a href="#78678cf0e10de6fcec7ea20faf1a2c5c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#ad3176b97443e9363f0122558722cd8b">TIMEOUTS</a> </td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void FUNCTION_CALL_TYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#9527b3c79a6302f29d0bbc774e707f53">Run</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method executed in a thread.  <a href="#9527b3c79a6302f29d0bbc774e707f53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#6ea60778f06e88bfb8061a6c9c201208">StopPending</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return if stop is required.  <a href="#6ea60778f06e88bfb8061a6c9c201208"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7a96870f757629650bc2ffc70d639ddb"></a><!-- doxytag: member="Omiscid::Thread::WaitForStop" ref="7a96870f757629650bc2ffc70d639ddb" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_omiscid_1_1_thread.html#7a96870f757629650bc2ffc70d639ddb">WaitForStop</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait until if stop is required. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_omiscid_1_1_thread.html">Thread</a> Implementation.
<p>
Enable to execute methods in another thread. The users must inherite from this class and write the methods 'Run'. The code in 'Run' will executed in a new thread after a call to the method 'Start'. This code would have to check the value of StopPending to stop if stop is required. <dl class="author" compact><dt><b>Author:</b></dt><dd>Dominique Vaufreydaz <p>
Sebastien Pesnel </dd></dl>

<p>

<p>
Definition at line <a class="el" href="_thread_8h-source.html#l00031">31</a> of file <a class="el" href="_thread_8h-source.html">Thread.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="12cc1b699cb562eb1d9e1b067cc981b8"></a><!-- doxytag: member="Omiscid::Thread::Thread" ref="12cc1b699cb562eb1d9e1b067cc981b8" args="(bool autostart=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Thread::Thread           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autostart</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>autostart</em>&nbsp;</td><td>[in] if true the constructor call automatically the method 'Start'. (default false) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00019">19</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00021"></a>00021 {
<a name="l00022"></a>00022 <span class="preprocessor">#ifdef DEBUG_THREAD</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>    ThreadName = Name;
<a name="l00024"></a>00024 <span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026
<a name="l00027"></a>00027 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>    ThreadID = 0;
<a name="l00029"></a>00029     ThreadHandle  = NULL;
<a name="l00030"></a>00030 <span class="preprocessor">#endif</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032     ThreadIsRunning = <span class="keyword">false</span>;
<a name="l00033"></a>00033     StopWasAsked = <span class="keyword">false</span>;
<a name="l00034"></a>00034
<a name="l00035"></a>00035     <span class="keywordflow">if</span> (autostart)
<a name="l00036"></a>00036         <a class="code" href="class_omiscid_1_1_thread.html#eb4de8e03ee2008da85d695d64cf8ad6">StartThread</a>();
<a name="l00037"></a>00037 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="37d9edd3a1a776cbc27dedff949c9726"></a><!-- doxytag: member="Omiscid::Thread::~Thread" ref="37d9edd3a1a776cbc27dedff949c9726" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Thread::~Thread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor.
<p>
Ask the end of the thread, and wait that the thread terminates during maximum one second.
<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00039">39</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
References <a class="el" href="_thread_8cpp-source.html#l00156">IsRunning()</a>, and <a class="el" href="_thread_8cpp-source.html#l00072">StopThread()</a>.<div class="fragment"><pre class="fragment"><a name="l00040"></a>00040 {
<a name="l00041"></a>00041     <span class="keywordflow">if</span>(<a class="code" href="class_omiscid_1_1_thread.html#6d77f70b6e064914648fddb635326b16">IsRunning</a>())
<a name="l00042"></a>00042     {
<a name="l00043"></a>00043         <a class="code" href="class_omiscid_1_1_thread.html#904f3d716a910c28bb28833a9f575832">StopThread</a>();
<a name="l00044"></a>00044     }
<a name="l00045"></a>00045 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="eb4de8e03ee2008da85d695d64cf8ad6"></a><!-- doxytag: member="Omiscid::Thread::StartThread" ref="eb4de8e03ee2008da85d695d64cf8ad6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Thread::StartThread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the thread.
<p>
Execute the method Run in a new thread. Begin by stopping the thread if it is running.
<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00047">47</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
References <a class="el" href="_thread_8cpp-source.html#l00156">IsRunning()</a>.
<p>
Referenced by <a class="el" href="_tcp_server_8cpp-source.html#l00227">Omiscid::TcpServer::AcceptConnection()</a>, <a class="el" href="_control_client_8cpp-source.html#l00341">Omiscid::ControlClient::ConnectToCtrlServer()</a>, <a class="el" href="_tcp_client_8cpp-source.html#l00021">Omiscid::TcpClient::ConnectToServer()</a>, <a class="el" href="_udp_exchange_8cpp-source.html#l00024">Omiscid::UdpExchange::Create()</a>, <a class="el" href="_tcp_server_8cpp-source.html#l00033">Omiscid::TcpServer::Create()</a>, <a class="el" href="_register_search_test_8cpp-source.html#l00058">Omiscid::RegisterThread::RegisterThread()</a>, <a class="el" href="_browse_for_dns_sd_service_8cpp-source.html#l00148">Omiscid::BrowseForDNSSDService::Start()</a>, and <a class="el" href="_control_server_8cpp-source.html#l00354">Omiscid::ControlServer::StartThreadProcessMsg()</a>.<div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 {
<a name="l00049"></a>00049     <span class="comment">// do nothing if already running</span>
<a name="l00050"></a>00050     <span class="keywordflow">if</span> ( <a class="code" href="class_omiscid_1_1_thread.html#6d77f70b6e064914648fddb635326b16">IsRunning</a>() )
<a name="l00051"></a>00051     {
<a name="l00052"></a>00052         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054
<a name="l00055"></a>00055     ThreadIsRunning = <span class="keyword">false</span>;
<a name="l00056"></a>00056     StopWasAsked = <span class="keyword">false</span>;
<a name="l00057"></a>00057
<a name="l00058"></a>00058 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>    ThreadID = 0;
<a name="l00060"></a>00060     ThreadHandle = CreateThread( NULL, 0, CallRun, (<span class="keywordtype">void</span>*)<span class="keyword">this</span>, 0, &amp;ThreadID );
<a name="l00061"></a>00061     <span class="keywordflow">return</span> (ThreadHandle != NULL);
<a name="l00062"></a>00062 <span class="preprocessor">#else</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>    pthread_attr_t attr;
<a name="l00064"></a>00064     pthread_attr_init(&amp;attr);
<a name="l00065"></a>00065     pthread_attr_setdetachstate(&amp;attr, PTHREAD_CREATE_DETACHED);
<a name="l00066"></a>00066     <span class="keywordtype">int</span> rc = pthread_create(&amp;m_thread, &amp;attr, CallRun, <span class="keyword">this</span>);
<a name="l00067"></a>00067     pthread_attr_destroy(&amp;attr);
<a name="l00068"></a>00068     <span class="keywordflow">return</span> (rc == 0);
<a name="l00069"></a>00069 <span class="preprocessor">#endif</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="904f3d716a910c28bb28833a9f575832"></a><!-- doxytag: member="Omiscid::Thread::StopThread" ref="904f3d716a910c28bb28833a9f575832" args="(int wait_ms=DEFAULT_THREAD_DESTRUCTOR_TIMEOUT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Thread::StopThread           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wait_ms</em> = <code>DEFAULT_THREAD_DESTRUCTOR_TIMEOUT</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop the thread.
<p>
Ask the thread to stop. Wait the end of the thread. If 'wait_ms' is not null, wait during a limited time of 'wait_ms' milliseconds. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wait_ms</em>&nbsp;</td><td>time to wait (0 for infinite time) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00072">72</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
References <a class="el" href="_thread_8cpp-source.html#l00156">IsRunning()</a>, <a class="el" href="_system_2_system_2_config_8h-source.html#l00226">Omiscid::OmiscidError()</a>, <a class="el" href="_event_8cpp-source.html#l00038">Omiscid::Event::Signal()</a>, and <a class="el" href="_event_8cpp-source.html#l00049">Omiscid::Event::Wait()</a>.
<p>
Referenced by <a class="el" href="_tcp_server_8cpp-source.html#l00052">Omiscid::TcpServer::Close()</a>, <a class="el" href="_service_8cpp-source.html#l00613">Omiscid::Service::FindServices()</a>, <a class="el" href="_msg_socket_8cpp-source.html#l00623">Omiscid::MsgSocket::Stop()</a>, <a class="el" href="_browse_for_dns_sd_service_8cpp-source.html#l00051">Omiscid::BrowseForDNSSDService::~BrowseForDNSSDService()</a>, <a class="el" href="_control_client_8cpp-source.html#l00313">Omiscid::ControlClient::~ControlClient()</a>, <a class="el" href="_control_server_8cpp-source.html#l00089">Omiscid::ControlServer::~ControlServer()</a>, <a class="el" href="_tcp_client_8cpp-source.html#l00016">Omiscid::TcpClient::~TcpClient()</a>, <a class="el" href="_thread_8cpp-source.html#l00039">~Thread()</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00055">Omiscid::WaitForDnsSdServices::~WaitForDnsSdServices()</a>, and <a class="el" href="_x_m_l_tree_parser_8cpp-source.html#l00157">Omiscid::XMLTreeParser::~XMLTreeParser()</a>.<div class="fragment"><pre class="fragment"><a name="l00073"></a>00073 {
<a name="l00074"></a>00074     <span class="keywordtype">bool</span> ThreadStopInTime = <span class="keyword">true</span>;
<a name="l00075"></a>00075
<a name="l00076"></a>00076     <span class="keywordflow">if</span> (<a class="code" href="class_omiscid_1_1_thread.html#6d77f70b6e064914648fddb635326b16">IsRunning</a>())
<a name="l00077"></a>00077     {
<a name="l00078"></a>00078         <span class="comment">// Notify thread !</span>
<a name="l00079"></a>00079         StopWasAsked = <span class="keyword">true</span>;            <span class="comment">// Notification for pseudo active waiting</span>
<a name="l00080"></a>00080         StopWasAskedEvent.<a class="code" href="class_omiscid_1_1_event.html#b2f21cd732a591e6eba5efd09e4a89f4">Signal</a>();        <span class="comment">// other notification</span>
<a name="l00081"></a>00081
<a name="l00082"></a>00082         ThreadStopInTime = IsEnded.<a class="code" href="class_omiscid_1_1_event.html#a08f1ffcf64f950b8f34e24dc97a38a8">Wait</a>(wait_ms);
<a name="l00083"></a>00083         <span class="keywordflow">if</span> ( ThreadStopInTime == <span class="keyword">false</span> )
<a name="l00084"></a>00084         {
<a name="l00085"></a>00085             <span class="comment">// Timeout !!!</span>
<a name="l00086"></a>00086             <a class="code" href="namespace_omiscid.html#64d7a55752c68825ea9a198a56fdab86">OmiscidError</a>( <span class="stringliteral">"Thread::StopThread: Thread do not stop before timeout (%d).\n"</span>, wait_ms );
<a name="l00087"></a>00087
<a name="l00088"></a>00088             <span class="comment">// Destroy the thread...</span>
<a name="l00089"></a>00089 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>            <span class="comment">// TerminateThread( ThreadHandle, 0 );</span>
<a name="l00091"></a>00091             ThreadID = 0;
<a name="l00092"></a>00092             ThreadHandle  = NULL;
<a name="l00093"></a>00093 <span class="preprocessor">#else</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>            <span class="comment">// pthread_cancel(m_thread);</span>
<a name="l00095"></a>00095 <span class="preprocessor">#endif</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>        }
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098
<a name="l00099"></a>00099     <span class="keywordflow">return</span> ThreadStopInTime;
<a name="l00100"></a>00100 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="78678cf0e10de6fcec7ea20faf1a2c5c"></a><!-- doxytag: member="Omiscid::Thread::Sleep" ref="78678cf0e10de6fcec7ea20faf1a2c5c" args="(int nb_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Thread::Sleep           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nb_ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the calling thread sleep
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nb_ms</em>&nbsp;</td><td>[in] number of milliseconds to sleep </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00146">146</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
Referenced by <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00359">Omiscid::WaitForDnsSdServices::Run()</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00479">Omiscid::WaitForDnsSdServices::WaitAll()</a>, and <a class="el" href="_msg_socket_8cpp-source.html#l01561">Omiscid::MsgSocket::WaitSyncLinkMsg()</a>.<div class="fragment"><pre class="fragment"><a name="l00147"></a>00147 {
<a name="l00148"></a>00148 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>    <span class="comment">// Use SleepEx because accuracy of the wait time is better than with ::Sleep</span>
<a name="l00150"></a>00150     ::SleepEx(nb_ms, FALSE);
<a name="l00151"></a>00151 <span class="preprocessor">#else</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>    usleep(nb_ms*1000);
<a name="l00153"></a>00153 <span class="preprocessor">#endif</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6d77f70b6e064914648fddb635326b16"></a><!-- doxytag: member="Omiscid::Thread::IsRunning" ref="6d77f70b6e064914648fddb635326b16" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Thread::IsRunning           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return if the thread is running.
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the thread is running </dd></dl>

<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00156">156</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
Referenced by <a class="el" href="_browse_for_dns_sd_service_8cpp-source.html#l00148">Omiscid::BrowseForDNSSDService::Start()</a>, <a class="el" href="_thread_8cpp-source.html#l00047">StartThread()</a>, <a class="el" href="_thread_8cpp-source.html#l00072">StopThread()</a>, and <a class="el" href="_thread_8cpp-source.html#l00039">~Thread()</a>.<div class="fragment"><pre class="fragment"><a name="l00157"></a>00157 {
<a name="l00158"></a>00158     <span class="keywordflow">return</span> ThreadIsRunning;
<a name="l00159"></a>00159 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9527b3c79a6302f29d0bbc774e707f53"></a><!-- doxytag: member="Omiscid::Thread::Run" ref="9527b3c79a6302f29d0bbc774e707f53" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void FUNCTION_CALL_TYPE Omiscid::Thread::Run           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method executed in a thread.
<p>
Overload this virtual function and provide your own thread implementation.
<p>
Implemented in <a class="el" href="class_omiscid_1_1_msg_socket.html#01ceb5ec9a28d28fcf402acf5c35fbef">Omiscid::MsgSocket</a>, <a class="el" href="class_omiscid_1_1_browse_for_d_n_s_s_d_service.html#e81d52b7e93709c949cd964c6d2e2bfd">Omiscid::BrowseForDNSSDService</a>, <a class="el" href="class_omiscid_1_1_wait_for_dns_sd_services.html#2130ca620f08013e6113ea754d3e04cc">Omiscid::WaitForDnsSdServices</a>, <a class="el" href="class_omiscid_1_1_x_m_l_tree_parser.html#95ab3b69615221fa672b2f841cd624c6">Omiscid::XMLTreeParser</a>, and <a class="el" href="class_omiscid_1_1_register_thread.html#a763ed8416fcf73dd3095e22f3090c42">Omiscid::RegisterThread</a>.
</div>
</div><p>
<a class="anchor" name="6ea60778f06e88bfb8061a6c9c201208"></a><!-- doxytag: member="Omiscid::Thread::StopPending" ref="6ea60778f06e88bfb8061a6c9c201208" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Thread::StopPending           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return if stop is required.
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the thread should stop </dd></dl>

<p>
Definition at line <a class="el" href="_thread_8cpp-source.html#l00161">161</a> of file <a class="el" href="_thread_8cpp-source.html">Thread.cpp</a>.
<p>
Referenced by <a class="el" href="_x_m_l_tree_parser_8cpp-source.html#l00271">Omiscid::XMLTreeParser::Run()</a>, <a class="el" href="_wait_for_dns_sd_services_8cpp-source.html#l00359">Omiscid::WaitForDnsSdServices::Run()</a>, <a class="el" href="_browse_for_dns_sd_service_8cpp-source.html#l00103">Omiscid::BrowseForDNSSDService::Run()</a>, and <a class="el" href="_msg_socket_8cpp-source.html#l00590">Omiscid::MsgSocket::Run()</a>.<div class="fragment"><pre class="fragment"><a name="l00162"></a>00162 {
<a name="l00163"></a>00163     <span class="keywordflow">return</span> StopWasAsked;
<a name="l00164"></a>00164 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>System/System/<a class="el" href="_thread_8h-source.html">Thread.h</a><li>System/<a class="el" href="_thread_8cpp-source.html">Thread.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Feb 1 14:26:31 2007 for OMiSCID(aka O3MiSCID) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>

